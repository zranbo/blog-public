<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Chaos</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://www.zranbo.com/"/>
  <updated>2019-05-30T03:45:58.469Z</updated>
  <id>https://www.zranbo.com/</id>
  
  <author>
    <name>zranbo</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>è®© Hexo æ”¯æŒ Emoji è¡¨æƒ…</title>
    <link href="https://www.zranbo.com/item/917c88c8/"/>
    <id>https://www.zranbo.com/item/917c88c8/</id>
    <published>2019-05-30T03:04:00.000Z</published>
    <updated>2019-05-30T03:45:58.469Z</updated>
    
    <content type="html"><![CDATA[<p>Hexo ä¸­é»˜è®¤ markdown æ¸²æŸ“å™¨æ˜¯ hexo-renderer-marked ï¼Œè¿™ä¸ªæ¸²æŸ“å™¨æ˜¯ä¸æ”¯æŒ emoji è¡¨æƒ…çš„ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦é‡‡å–ä¸€ä¸ªç¬¬ä¸‰æ–¹æ’ä»¶æ¥å®Œæˆ</p><div style="text-align:center">  <div class="github-card" data-user="crimx" data-repo="hexo-filter-github-emojis" data-width="100%" data-theme="default" data-target="blank" data-client-id data-client-secret></div></div><script src="/github-card-lib/githubcard.js"></script><p><strong> å®‰è£… </strong></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-filter-github-emojis --save</span><br></pre></td></tr></tbody></table></figure><p><strong> é…ç½® </strong></p><p>æ‰“å¼€ <code>ç«™ç‚¹é…ç½®æ–‡ä»¶ _config.yml</code> å¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š<br></p><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">githubEmojis:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  className:</span> <span class="string">github-emoji</span></span><br><span class="line"><span class="attr">  unicode:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  styles:</span></span><br><span class="line"><span class="attr">  localEmojis:</span></span><br></pre></td></tr></tbody></table></figure><p></p><p><strong> é’ˆå¯¹ NexT ä¸»é¢˜ä¼˜åŒ– </strong></p><p>ä¿®æ”¹ <code>themes/next/layout/_partials/head.swig</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">algolia: {</span><br><span class="line">  applicationID: '{{ theme.algolia.applicationID }}',</span><br><span class="line">  apiKey: '{{ theme.algolia.apiKey }}',</span><br><span class="line">  indexName: '{{ theme.algolia.indexName }}',</span><br><span class="line">  hits: {{ theme.algolia_search.hits | json_encode }},</span><br><span class="line">  labels: {{ theme.algolia_search.labels | json_encode }}</span><br><span class="line">},</span><br><span class="line">{# åªä¿®æ”¹è¿™é‡Œæ·»åŠ  emojis å‚æ•° #}</span><br><span class="line">emojis: {</span><br><span class="line">  className: '{{ config.githubEmojis.className | default('github-emoji') }}'</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ä¿®æ”¹ <code>themes/next/source/js/src/utils.js</code></p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.content img'</span>)</span><br><span class="line">  .not(<span class="string">'[hidden]'</span>)</span><br><span class="line"> Â .not('.group-picture img, .post-gallery img, img.' + CONFIG.emojis.className) # ä¿®æ”¹è¿™é‡Œï¼Œæ·»åŠ  CONFIG.emojis.className</span><br></pre></td></tr></tbody></table></figure><p><strong> ä½¿ç”¨æ–¹æ³• </strong></p><p>åœ¨ <a href="https://www.webfx.com/tools/emoji-cheat-sheet/" target="_blank" rel="noopener">Emoji Cheat Sheet</a> ä¸­æ‰¾åˆ°ä½ æƒ³ç”¨çš„è¡¨æƒ…ï¼Œç‚¹å‡»å¤åˆ¶</p><p>ç›´æ¥ç²˜è´´ä¸Šé¢å¤åˆ¶çš„ emoji ç¼–ç ï¼Œä¾‹å¦‚ <code>:smile:</code> å°±å¯ä»¥æ˜¾ç¤ºå¯¹åº”çš„ emoji è¡¨æƒ… <span class="github-emoji" style="color: transparent;background:no-repeat url(https://assets-cdn.github.com/images/icons/emoji/unicode/1f604.png?v8) center/contain" data-src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f604.png?v8">ğŸ˜„</span></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Hexo ä¸­é»˜è®¤ markdown æ¸²æŸ“å™¨æ˜¯ hexo-renderer-marked ï¼Œè¿™ä¸ªæ¸²æŸ“å™¨æ˜¯ä¸æ”¯æŒ emoji è¡¨æƒ…çš„ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦é‡‡å–ä¸€ä¸ªç¬¬ä¸‰æ–¹æ’ä»¶æ¥å®Œæˆ&lt;/p&gt;
&lt;div style=&quot;text-align:center&quot;&gt;
  &lt;div class=&quot;git
      
    
    </summary>
    
    
      <category term="Hexo" scheme="https://www.zranbo.com/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Dockerä»å…¥é—¨åˆ°å†å…¥é—¨ - åˆè¯† (ä¸€)</title>
    <link href="https://www.zranbo.com/item/f79e33ca/"/>
    <id>https://www.zranbo.com/item/f79e33ca/</id>
    <published>2019-05-29T12:27:00.000Z</published>
    <updated>2019-05-30T03:15:54.832Z</updated>
    
    <content type="html"><![CDATA[<p><b>ä»€ä¹ˆæ˜¯Docker?</b></p><p><img src="https://zranbo.oss-cn-beijing.aliyuncs.com/blog/docker_intr.jpg" alt></p><p>ä»¥ä¸Šå›¾ç‰‡æ‘˜è‡ª <a href="https://www.docker.com/" target="_blank" rel="noopener">https://www.docker.com/</a> </p><p><code>Docker</code> æ˜¯ä¸€ä¸ªåŸºäº <code>Go</code> è¯­è¨€çš„å¼€æºå®¹å™¨å¼•æ“ã€‚<code>Docker</code> å¯ä»¥è®©å¼€å‘è€…æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªè½»é‡çº§ã€å¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ <code>Linux</code> æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚å¹¶ä¸”å®¹å™¨çš„ä½¿ç”¨å¼€é”€æä½ï¼Œå¯åŠ¨é€Ÿåº¦ä¹Ÿéå¸¸å¿«ã€‚</p><p><b>å®‰è£… Docker</b></p><p><code>Docker</code> æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼šç¤¾åŒºç‰ˆ(Community Editionï¼Œç¼©å†™ CE)å’Œä¼ä¸šç‰ˆï¼ˆEnterprise Editionï¼Œç¼©å†™ EEï¼‰ä¸€èˆ¬ä¸ªäººå®‰è£… CE ç‰ˆæœ¬</p><p>Docker CE çš„å®‰è£…å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š</p><ul><li><a href="https://docs.docker.com/install/linux/docker-ce/ubuntu/" target="_blank" rel="noopener">Ubuntu</a></li><li><a href="https://docs.docker.com/docker-for-mac/install/" target="_blank" rel="noopener">Mac</a></li><li><a href="https://docs.docker.com/docker-for-windows/install/" target="_blank" rel="noopener">Windows</a></li></ul><p>å®‰è£…å®Œæˆåï¼Œå¯ä»¥é€šè¿‡ <code>docker --version</code> éªŒè¯ç‰ˆæœ¬</p><div class="note danger"><p>Linux å®‰è£…å®Œæˆåå¦‚æœæ˜¯é <code>root</code> ç”¨æˆ·è¾“å…¥ <code>docker</code> ä¼šæç¤ºå‡ºé”™: <code>permission denied</code><br>è§£å†³åŠæ³•æ˜¯å°†å½“å‰ç”¨æˆ·åŠ å…¥ <code>docker</code> ç”¨æˆ·ç»„<br><code>sudo usermod -a -G docker $USER</code> å¹¶é‡æ–°å¯åŠ¨ç³»ç»Ÿ<br>åˆ©ç”¨ <code>groups</code> æŸ¥çœ‹ <code>docker</code> æ˜¯å¦åœ¨å…¶ä¸­</p></div><p><b>å‡ ä¸ªæ¦‚å¿µ</b></p><ol><li><h6 id="é•œåƒ-Image"><a href="#é•œåƒ-Image" class="headerlink" title="é•œåƒ (Image)"></a>é•œåƒ (<code>Image</code>)</h6><p>é¦–å…ˆæ“ä½œç³»ç»Ÿåˆ†ä¸ºå†…æ ¸å’Œç”¨æˆ·ç©ºé—´ã€‚å¯¹äº <code>Linux</code> è€Œè¨€ï¼Œå†…æ ¸å¯åŠ¨åï¼Œä¼šæŒ‚è½½ <code>root</code> æ–‡ä»¶ç³»ç»Ÿä¸ºå…¶æä¾›ç”¨æˆ·ç©ºé—´æ”¯ æŒã€‚è€Œ <code>Docker</code> é•œåƒï¼ˆ<code>Image</code>ï¼‰ï¼Œå°±ç›¸å½“äºæ˜¯ä¸€ä¸ª <code>root</code> æ–‡ä»¶ç³»ç»Ÿã€‚æ¯”å¦‚å®˜æ–¹é•œåƒ <code>ubuntu:18.04</code> å°±åŒ…å«äº†å®Œæ•´çš„ä¸€å¥— <code>Ubuntu 18.04</code> æœ€å°ç³»ç»Ÿçš„ <code>root</code> æ–‡ä»¶ç³»ç»Ÿã€‚</p><p><code>Docker</code> é•œåƒæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿï¼Œé™¤äº†æä¾›å®¹å™¨è¿è¡Œæ—¶æ‰€éœ€çš„ç¨‹åºã€åº“ã€èµ„æºã€é…ç½®ç­‰æ–‡ä»¶å¤–ï¼Œè¿˜åŒ…å«äº†ä¸€äº›ä¸ºè¿è¡Œæ—¶å‡†å¤‡çš„ä¸€äº›é…ç½®å‚æ•°ï¼ˆå¦‚åŒ¿åå·ã€ç¯å¢ƒå˜é‡ã€ç”¨æˆ·ç­‰ï¼‰ã€‚é•œåƒä¸åŒ…å«ä»»ä½•åŠ¨æ€æ•°æ®ï¼Œå…¶å†…å®¹åœ¨æ„å»ºä¹‹åä¹Ÿä¸ä¼šè¢«æ”¹å˜ã€‚</p></li><li><h6 id="å®¹å™¨-Container"><a href="#å®¹å™¨-Container" class="headerlink" title="å®¹å™¨ (Container)"></a>å®¹å™¨ (<code>Container</code>)</h6><p>é•œåƒ (<code>Image</code>) å’Œå®¹å™¨ (<code>Container</code>) çš„å…³ç³»ï¼Œå°±åƒæ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­çš„ç±»(<code>class</code>)å’Œå®ä¾‹(<code>Instance</code>) ä¸€æ ·ï¼Œé•œåƒæ˜¯é™æ€çš„å®šä¹‰ï¼Œå®¹å™¨æ˜¯é•œåƒè¿è¡Œæ—¶çš„å®ä½“ã€‚å®¹å™¨å¯ä»¥è¢«åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ã€æš‚åœç­‰ã€‚</p><p>å®¹å™¨çš„å®è´¨æ˜¯è¿›ç¨‹ï¼Œä½†ä¸ç›´æ¥åœ¨å®¿ä¸»æ‰§è¡Œçš„è¿›ç¨‹ä¸åŒï¼Œå®¹å™¨è¿›ç¨‹è¿è¡Œäºå±äºè‡ªå·±çš„ç‹¬ç«‹çš„ å‘½åç©ºé—´ã€‚å› æ­¤å®¹å™¨å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„ <code>root</code> æ–‡ä»¶ç³»ç»Ÿã€è‡ªå·±çš„ç½‘ç»œé…ç½®ã€è‡ªå·±çš„è¿›ç¨‹ç©ºé—´ï¼Œç”šè‡³è‡ªå·±çš„ç”¨æˆ· <code>ID</code> ç©ºé—´ã€‚å®¹å™¨å†…çš„è¿›ç¨‹æ˜¯è¿è¡Œåœ¨ä¸€ä¸ªéš”ç¦»çš„ç¯å¢ƒé‡Œï¼Œä½¿ç”¨èµ·æ¥ï¼Œå°±å¥½åƒæ˜¯åœ¨ä¸€ä¸ªç‹¬ç«‹äºå®¿ä¸»çš„ç³»ç»Ÿä¸‹æ“ä½œä¸€æ ·ã€‚è¿™ç§ç‰¹æ€§ä½¿å¾—å®¹å™¨å°è£…çš„åº”ç”¨æ¯”ç›´æ¥åœ¨å®¿ä¸»è¿è¡Œæ›´åŠ å®‰å…¨ã€‚ä¹Ÿå› ä¸ºè¿™ç§éš”ç¦»çš„ç‰¹æ€§ï¼Œå¾ˆå¤šäººåˆå­¦ <code>Docker</code> æ—¶å¸¸å¸¸ä¼šæ··æ·†å®¹å™¨å’Œè™šæ‹Ÿæœºã€‚</p><p>å‰é¢è®²è¿‡é•œåƒä½¿ç”¨çš„æ˜¯åˆ†å±‚å­˜å‚¨ï¼Œå®¹å™¨ä¹Ÿæ˜¯å¦‚æ­¤ã€‚æ¯ä¸€ä¸ªå®¹å™¨è¿è¡Œæ—¶ï¼Œæ˜¯ä»¥é•œåƒä¸ºåŸºç¡€å±‚ï¼Œåœ¨å…¶ä¸Šåˆ›å»ºä¸€ä¸ªå½“å‰å®¹å™¨çš„å­˜å‚¨å±‚ï¼Œæˆ‘ä»¬å¯ä»¥ç§°è¿™ä¸ªä¸ºå®¹å™¨è¿è¡Œæ—¶è¯»å†™è€Œå‡†å¤‡çš„å­˜å‚¨å±‚ä¸º å®¹å™¨å­˜å‚¨å±‚ã€‚</p><p>å®¹å™¨å­˜å‚¨å±‚çš„ç”Ÿå­˜å‘¨æœŸå’Œå®¹å™¨ä¸€æ ·ï¼Œå®¹å™¨æ¶ˆäº¡æ—¶ï¼Œå®¹å™¨å­˜å‚¨å±‚ä¹Ÿéšä¹‹æ¶ˆäº¡ã€‚å› æ­¤ï¼Œä»»ä½•ä¿å­˜äºå®¹å™¨å­˜å‚¨å±‚çš„ä¿¡æ¯éƒ½ä¼šéšå®¹å™¨åˆ é™¤è€Œä¸¢å¤±ã€‚</p><p>æŒ‰ç…§ Docker æœ€ä½³å®è·µçš„è¦æ±‚ï¼Œå®¹å™¨ä¸åº”è¯¥å‘å…¶å­˜å‚¨å±‚å†…å†™å…¥ä»»ä½•æ•°æ®ï¼Œå®¹å™¨å­˜å‚¨å±‚è¦ä¿æŒæ— çŠ¶æ€åŒ–ã€‚æ‰€æœ‰çš„æ–‡ä»¶å†™å…¥æ“ä½œï¼Œéƒ½åº”è¯¥ä½¿ç”¨ æ•°æ®å· (<code>Volume</code>)ã€æˆ–è€…ç»‘å®šå®¿ä¸»ç›®å½•ï¼Œåœ¨è¿™äº›ä½ç½®çš„è¯»å†™ä¼šè·³è¿‡å®¹å™¨å­˜å‚¨å±‚ï¼Œç›´æ¥å¯¹å®¿ä¸»(æˆ–ç½‘ç»œå­˜å‚¨) å‘ç”Ÿè¯»å†™ï¼Œå…¶æ€§èƒ½å’Œç¨³å®šæ€§æ›´é«˜ã€‚</p><p>æ•°æ®å·çš„ç”Ÿå­˜å‘¨æœŸç‹¬ç«‹äºå®¹å™¨ï¼Œå®¹å™¨æ¶ˆäº¡ï¼Œæ•°æ®å·ä¸ä¼šæ¶ˆäº¡ã€‚å› æ­¤ï¼Œä½¿ç”¨æ•°æ®å·åï¼Œå®¹å™¨åˆ é™¤æˆ–è€…é‡æ–°è¿è¡Œä¹‹åï¼Œæ•°æ®å´ä¸ä¼šä¸¢å¤±ã€‚</p></li><li><h6 id="ä»“åº“-Repository"><a href="#ä»“åº“-Repository" class="headerlink" title="ä»“åº“(Repository)"></a>ä»“åº“(<code>Repository</code>)</h6><p>é•œåƒæ„å»ºå®Œæˆåï¼Œå¯ä»¥å¾ˆå®¹æ˜“çš„åœ¨å½“å‰å®¿ä¸»æœºä¸Šè¿è¡Œï¼Œä½†æ˜¯ï¼Œå¦‚æœéœ€è¦åœ¨å…¶å®ƒæœåŠ¡å™¨ä¸Šä½¿ç”¨è¿™ä¸ªé•œåƒï¼Œæˆ‘ä»¬å°±éœ€è¦ä¸€ä¸ªé›†ä¸­çš„å­˜å‚¨ã€åˆ†å‘é•œåƒçš„æœåŠ¡ï¼Œ<code>Docker Registry</code> å°±æ˜¯è¿™æ ·çš„æœåŠ¡ã€‚</p><p>ä¸€ä¸ª <code>Docker Registry</code> ä¸­å¯ä»¥åŒ…å«å¤šä¸ª<strong>ä»“åº“ï¼ˆ<code>Repository</code>ï¼‰</strong>ï¼›æ¯ä¸ªä»“åº“å¯ä»¥åŒ…å«å¤šä¸ª<strong>æ ‡ç­¾ï¼ˆ<code>Tag</code>ï¼‰</strong>ï¼›æ¯ä¸ªæ ‡ç­¾å¯¹åº”ä¸€ä¸ªé•œåƒã€‚</p><p>é€šå¸¸ï¼Œä¸€ä¸ªä»“åº“ä¼šåŒ…å«åŒä¸€ä¸ªè½¯ä»¶ä¸åŒç‰ˆæœ¬çš„é•œåƒï¼Œè€Œæ ‡ç­¾å°±å¸¸ç”¨äºå¯¹åº”è¯¥è½¯ä»¶çš„å„ä¸ªç‰ˆæœ¬ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ <strong><ä»“åº“å>:<æ ‡ç­¾></strong> çš„æ ¼å¼æ¥æŒ‡å®šå…·ä½“æ˜¯è¿™ä¸ªè½¯ä»¶å“ªä¸ªç‰ˆæœ¬çš„é•œåƒã€‚å¦‚æœä¸ç»™å‡ºæ ‡ç­¾ï¼Œå°†ä»¥ <code>latest</code> ä½œä¸ºé»˜è®¤æ ‡ç­¾ã€‚</p><p>ä»¥ <code>Ubuntu</code> é•œåƒ ä¸ºä¾‹ï¼Œ<code>ubuntu</code> æ˜¯ä»“åº“çš„åå­—ï¼Œå…¶å†…åŒ…å«æœ‰ä¸åŒçš„ç‰ˆæœ¬æ ‡ç­¾ï¼Œå¦‚ï¼Œ16.04, 18.04ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>ubuntu:16.04</code>ï¼Œæˆ–è€… <code>ubuntu:18.04</code> æ¥å…·ä½“æŒ‡å®šæ‰€éœ€å“ªä¸ªç‰ˆæœ¬çš„é•œåƒã€‚å¦‚æœå¿½ç•¥äº†æ ‡ç­¾ï¼Œæ¯”å¦‚ <code>ubuntu</code>ï¼Œé‚£å°†è§†ä¸º <code>ubuntu:latest</code>ã€‚</p><p>ä»“åº“åç»å¸¸ä»¥ <strong>ä¸¤æ®µå¼è·¯å¾„</strong> å½¢å¼å‡ºç°ï¼Œæ¯”å¦‚ <code>jwilder/nginx-proxy</code>ï¼Œå‰è€…å¾€å¾€æ„å‘³ç€ <code>Docker Registry</code> å¤šç”¨æˆ·ç¯å¢ƒä¸‹çš„ç”¨æˆ·åï¼Œåè€…åˆ™å¾€å¾€æ˜¯å¯¹åº”çš„è½¯ä»¶åã€‚ä½†è¿™å¹¶éç»å¯¹ï¼Œå–å†³äºæ‰€ä½¿ç”¨çš„å…·ä½“ <code>Docker Registry</code> çš„è½¯ä»¶æˆ–æœåŠ¡ã€‚</p></li></ol><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;b&gt;ä»€ä¹ˆæ˜¯Docker?&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://zranbo.oss-cn-beijing.aliyuncs.com/blog/docker_intr.jpg&quot; alt&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šå›¾ç‰‡æ‘˜è‡ª &lt;a href=&quot;https://w
      
    
    </summary>
    
    
      <category term="Docker" scheme="https://www.zranbo.com/tags/Docker/"/>
    
  </entry>
  
  <entry>
    <title>Hexo-gitalk-Pushover å®ç°æ¶ˆæ¯æ¨é€</title>
    <link href="https://www.zranbo.com/item/609f08f9/"/>
    <id>https://www.zranbo.com/item/609f08f9/</id>
    <published>2019-05-28T15:10:00.000Z</published>
    <updated>2019-05-29T04:59:35.464Z</updated>
    
    <content type="html"><![CDATA[<p><b>å‰è¨€</b></p><p>ç”¨Hexoæ­å»ºäº†è¿™ä¸ªåšå®¢ï¼Œå¹¶ä¸”æ‰¾åˆ°äº†ä¸€ä¸ªåˆ©ç”¨ GitHub Issue å®ç°è¯„è®ºåŠŸèƒ½çš„æ’ä»¶ gitalk</p><div style="text-align:center">  <div class="github-card" data-user="gitalk" data-repo="gitalk" data-width="100%" data-theme="default" data-target="blank" data-client-id data-client-secret></div></div><script src="/github-card-lib/githubcard.js"></script><p>ä»è€Œå®ç°äº†ç½‘ç«™çš„è¯„è®ºåŠŸèƒ½ã€‚ä½†ç½‘ç«™çš„è¯„è®ºä¸åŒäºå¾®ä¿¡ç­‰å³æ—¶é€šè®¯çš„æ¶ˆæ¯ï¼Œåˆ«äººçš„è¯„è®ºæœ‰å¯èƒ½ä½ æ²¡æ³•é©¬ä¸Šçœ‹åˆ°ã€‚æ‰€ä»¥æœ‰ä¸ªæƒ³æ³•ï¼šæ€ä¹ˆæ ·èƒ½åœ¨åˆ«äººè¯„è®ºå®Œä¹‹åæˆ‘é©¬ä¸Šå°±èƒ½çŸ¥é“å‘¢ï¼Ÿ</p><p>è€ƒè™‘åˆ°æ¶ˆæ¯æ¨é€çš„æ—¶æ•ˆï¼Œæƒ³åˆ°äº† iPhone çš„æ¶ˆæ¯æ¨é€ã€‚è¿™æ ·æ¯å½“æœ‰è¯„è®ºç•™è¨€å¯ä»¥å¾ˆå¿«åœ°æ”¶åˆ°ä¸€ä¸ªæ¶ˆæ¯æé†’è‡ªå·±ã€‚ä½† iPhone çš„æ¶ˆæ¯æ¨é€è¿˜æ˜¯å¾ˆå¤æ‚çš„ï¼Œé¦–å…ˆè¦æœ‰ä¸€ä¸ªä¸Šæ¶ AppStore çš„åº”ç”¨ã€‚ä½†å¹¸å¥½å·²ç»æœ‰äº†è¿™æ ·çš„åº”ç”¨ï¼Œè¿™é‡Œæˆ‘å°±ç”¨äº† <a href="https://itunes.apple.com/cn/app/pushover-notifications/id506088175" target="_blank" rel="noopener">Pushover</a> æ›¿æˆ‘è¿›è¡Œæ¶ˆæ¯çš„æ¨é€ã€‚</p><p><b>é…ç½®Pushover</b></p><p>AppStore ä¸Šçš„ Pushover æ˜¯ä»˜è´¹åº”ç”¨ï¼Œä»·æ ¼ Â¥30.00</p><p>è´­ä¹°åå¯ä»¥ç”³è¯·ä¸€ä¸ªè´¦æˆ·ï¼Œç„¶åæ³¨å†Œè¯¥è®¾å¤‡ï¼Œä¹‹åä½ ä¼šå¾—åˆ°ä¸€ä¸ª<code>User Key</code><br><img src="https://zranbo.oss-cn-beijing.aliyuncs.com/blog/pushover_key_demo.jpg" alt></p><p>ç„¶åä»æµè§ˆå™¨è¿›å…¥ Pushover ç•Œé¢ <a href="https://pushover.net" target="_blank">https://pushover.net</a> ä»å³ä¸Šè§’ç™»å½•åˆšåˆšæ³¨å†Œçš„è´¦æˆ·</p><p>å¦‚æœä¹‹å‰çš„éƒ½å·²ç»åšäº†ï¼Œé‚£ä¹ˆåœ¨ Your Devices éƒ¨åˆ†åº”è¯¥å¯ä»¥çœ‹åˆ°ä½ åˆšåˆšçš„è®¾å¤‡äº†ã€‚</p><p>åœ¨åº•ä¸‹ Your Applications åˆ›å»ºä¸€ä¸ªåº”ç”¨<br><img src="https://zranbo.oss-cn-beijing.aliyuncs.com/blog/pushover_application.jpg" alt></p><p>å¡«å†™å¥½è¿™äº›ä¿¡æ¯åï¼Œä½ ä¼šè·å¾—ä¸€ä¸ª <code>API Token</code> è‡³æ­¤æœ‰å…³ Pushover çš„é…ç½®å°±å®Œæˆäº†ï¼Œæœ‰äº†ä¸Šé¢çš„ <code>User Key</code> å’Œåˆšåˆšæ‹¿åˆ°çš„ <code>API Token</code> æˆ‘ä»¬å°±èƒ½è‡ªå®šä¹‰çš„ç»™åˆšåˆšæ³¨å†Œçš„æ‰‹æœºå‘é€æ¨é€é€šçŸ¥äº†ã€‚</p><p><b>Push Demo</b></p><p>é¦–å…ˆæˆ‘ä»¬å…ˆè¯•ä¸€ä¸‹è¿™ä¸ªæ¶ˆæ¯æ¨é€</p><p>æ¶ˆæ¯æ¨é€é‡‡ç”¨çš„æ˜¯ Restapi é£æ ¼çš„æ¥å£ã€‚åœ°å€æ˜¯ <a href="https://api.pushover.net/1/messages.json" target="_blank">https://api.pushover.net/1/messages.json</a></p><p>å…·ä½“çš„æ¥å£æ–‡æ¡£å‚é˜… <a href="https://pushover.net/api" target="_blank" rel="noopener">Pushover Message API</a></p><p>å¦‚ä½•åšåˆ°è¯„è®ºä¹‹åé©¬ä¸Šå°±èƒ½æ¨é€æ¶ˆæ¯å‘¢ï¼Ÿè¿™é‡Œæˆ‘ä»¬ç”¨ GitHub çš„ Webhook ï¼Œå½“æœ‰æ–°çš„è¯„è®ºçš„æ—¶å€™ï¼Œå°±è§¦å‘è¿™ä¸ª Webhook ã€‚æˆ‘ä»¬è¦åšçš„å°±åªéœ€è¦æ‰¾ä¸€å°æ‹¥æœ‰å…¬ç½‘ ip çš„æœåŠ¡å™¨ä¸»æœºï¼Œæ­å»ºä¸€ä¸ªç®€å•çš„ Web æœåŠ¡ã€‚</p><p>tool.py<br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PushOver</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, token, user)</span>:</span></span><br><span class="line">        self.api = <span class="string">"https://api.pushover.net/1/messages.json"</span></span><br><span class="line"></span><br><span class="line">        self.rdata = {</span><br><span class="line">            <span class="string">"token"</span>: token,</span><br><span class="line">            <span class="string">"user"</span>: user,</span><br><span class="line">            <span class="string">"message"</span>: <span class="string">""</span>,</span><br><span class="line">            <span class="string">"url"</span>: <span class="string">""</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">loads</span><span class="params">(self, dictdata)</span>:</span></span><br><span class="line">        title = dictdata[<span class="string">'issue'</span>][<span class="string">'title'</span>]</span><br><span class="line">        user = dictdata[<span class="string">'comment'</span>][<span class="string">'user'</span>][<span class="string">'login'</span>]</span><br><span class="line">        comment = dictdata[<span class="string">'comment'</span>][<span class="string">'body'</span>]</span><br><span class="line">        url = dictdata[<span class="string">'issue'</span>][<span class="string">'body'</span>].split(<span class="string">' '</span>)[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">        msg = <span class="string">"{t}\n{u}:{c}"</span>.format(t=title, u=user, c=comment)</span><br><span class="line"></span><br><span class="line">        self.rdata[<span class="string">'message'</span>] = msg</span><br><span class="line">        self.rdata[<span class="string">'url'</span>] = url</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">send</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment"># print(self.rdata)</span></span><br><span class="line">            requests.post(self.api, data=self.rdata)</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            <span class="keyword">raise</span> e</span><br><span class="line"></span><br><span class="line">pushover = PushOver([:API Token], [:User Key])</span><br></pre></td></tr></tbody></table></figure><p></p><p>pushover.py<br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, jsonify, redirect, request</span><br><span class="line"><span class="keyword">from</span> tool <span class="keyword">import</span> pushover</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route('/webhook', methods=['POST'])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">webhook</span><span class="params">()</span>:</span></span><br><span class="line">    req = json.loads(request.data)</span><br><span class="line">    action = req[<span class="string">'action'</span>]</span><br><span class="line">    <span class="keyword">if</span> action == <span class="string">'created'</span>:</span><br><span class="line">        pushover.loads(req)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            pushover.send()</span><br><span class="line">            <span class="keyword">return</span> <span class="string">'OK'</span></span><br><span class="line">        <span class="keyword">except</span> Exception:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">'ERROR'</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'PASS'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    app.run(host=<span class="string">'0.0.0.0'</span>, port=<span class="number">80</span>)</span><br></pre></td></tr></tbody></table></figure><p></p><p>å°†è¿™ä¸¤ä¸ªè„šæœ¬æ”¾åˆ°æœåŠ¡å™¨ä¸Šï¼Œå®‰è£… gunicorn å¯åŠ¨è„šæœ¬è¿è¡Œ Web æœåŠ¡</p><p><code>gunicorn -w 4 -b 0.0.0.0:80 webhook:app</code></p><p><b>é…ç½® Webhook</b></p><p>æ‰“å¼€ gitalk é…ç½®çš„è¯„è®ºä»“åº“ï¼Œåœ¨ Webhooks è®¾ç½®ä¸­æ·»åŠ ä¸€ä¸ª webhook</p><p><img src="https://zranbo.oss-cn-beijing.aliyuncs.com/blog/webhook_demo.jpg" alt></p><p>Payload URL ä¸­å¡«å†™ <code>http://ip:port/webhook</code> å¦‚æœä½ çš„æœåŠ¡å™¨æä¾›å•†å…è®¸ä½¿ç”¨ <code>80</code> ç«¯å£å¯ä»¥ä¸å†™ <code>:80</code><br>ä¿å­˜ä¹‹åå°±å¯ä»¥è¯•ä¸€ä¸‹è¯„è®ºçœ‹æœ‰æ²¡æœ‰æ¶ˆæ¯æ¨é€ã€‚</p><p><img src="https://zranbo.oss-cn-beijing.aliyuncs.com/blog/pushover_msg_demo.jpg" alt></p><p>å¦‚æœæ²¡æœ‰ï¼Œå¯ä»¥åœ¨ Github Webhook é¡µé¢çœ‹åˆ°è°ƒç”¨ wenhook çš„è®°å½•ï¼Œæ’æŸ¥é”™è¯¯ã€‚<br><img src="https://zranbo.oss-cn-beijing.aliyuncs.com/blog/webhook_recent.jpg" alt></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;b&gt;å‰è¨€&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;ç”¨Hexoæ­å»ºäº†è¿™ä¸ªåšå®¢ï¼Œå¹¶ä¸”æ‰¾åˆ°äº†ä¸€ä¸ªåˆ©ç”¨ GitHub Issue å®ç°è¯„è®ºåŠŸèƒ½çš„æ’ä»¶ gitalk&lt;/p&gt;
&lt;div style=&quot;text-align:center&quot;&gt;
  &lt;div class=&quot;github-card&quot; data
      
    
    </summary>
    
    
      <category term="Hexo" scheme="https://www.zranbo.com/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Linux/Unixè¿›ç¨‹ç®¡ç†å·¥å…· - Supervisor</title>
    <link href="https://www.zranbo.com/item/1f6c73c0/"/>
    <id>https://www.zranbo.com/item/1f6c73c0/</id>
    <published>2019-05-28T08:40:00.000Z</published>
    <updated>2019-05-28T13:56:02.013Z</updated>
    
    <content type="html"><![CDATA[<p><b>Supervisor</b></p><p><a href="http://supervisord.org/" target="_blank" rel="noopener"><code>Supervisor</code></a> æ˜¯ä¸€ä¸ªç”¨ <code>Python2</code> å®ç°çš„ Unix-like ç³»ç»Ÿè¿›ç¨‹ç®¡ç†å·¥å…·ã€‚</p><p><b>å®‰è£…</b></p><ol><li>Ubuntu : <code>apt install supervisor</code></li><li>å…¶ä»– Linux å‘è¡Œç‰ˆ: <code>pip install supervisor</code> (åªæ”¯æŒ <code>Python2</code> å› æ­¤è¯·ç¡®å®šæ˜¯<code>Python2</code>çš„<code>pip</code>)</li></ol><p>å®‰è£…å®Œæˆåä¼šç”Ÿæˆä¸‰ä¸ªæ‰§è¡Œç¨‹åºï¼š<code>supervisortd</code> <code>supervisorctl</code> <code>echo_supervisord_conf</code> åˆ†åˆ«æ˜¯ï¼šå®ˆæŠ¤è¿›ç¨‹æœåŠ¡ã€å®¢æˆ·ç«¯ã€åˆå§‹é…ç½®æ–‡ä»¶ç¨‹åºã€‚</p><p><b>é…ç½®</b></p><p>è¿è¡Œ <code>supervisord</code> è¦æŒ‡å®š <code>supervisor</code> é…ç½®æ–‡ä»¶,é»˜è®¤åœ¨ä»¥ä¸‹ç›®å½•æŸ¥æ‰¾ï¼š<br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/supervisor/supervisord.conf</span><br></pre></td></tr></tbody></table></figure><p></p><p>å¹¶ä¸”å¯ä»¥é€šè¿‡ <code>echo_supervisord_conf</code> ç”Ÿæˆä¸€ä»½ <code>supervisor</code> é…ç½®æ–‡ä»¶<br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo_supervisord_conf > /etc/supervisor/supervisord.conf</span><br></pre></td></tr></tbody></table></figure><p></p><p><b>ä¸»ç¨‹åºé…ç½®æ–‡ä»¶è¯´æ˜</b></p><p>æ³¨é‡Šï¼šä»¥åˆ†å· <code>;</code> å¼€å¤´çš„è¡¨ç¤ºæ³¨é‡Šè¡Œ<br></p><figure class="highlight ini"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[unix_http_server]</span></span><br><span class="line"><span class="attr">file</span>=/tmp/supervisor.sock; UNIX socket æ–‡ä»¶ï¼Œsupervisorctlè¦ç”¨</span><br><span class="line"><span class="comment">;chmod=0700; socketæ–‡ä»¶çš„æƒé™ï¼Œé»˜è®¤æ˜¯0700</span></span><br><span class="line"><span class="comment">;chown=nobody:nogroup; socketæ–‡ä»¶çš„ ownerï¼Œæ ¼å¼ï¼šuid:gid</span></span><br><span class="line"><span class="comment">;username=user; ç™»å½•ç®¡ç†åå°çš„ç”¨æˆ·å</span></span><br><span class="line"><span class="comment">;password=123; ç™»å½•ç®¡ç†åå°çš„å¯†ç </span></span><br><span class="line"></span><br><span class="line"><span class="section">[inet_http_server]</span><span class="comment">; HTTPæœåŠ¡ï¼Œæä¾›Webç«¯ç®¡ç†ç•Œé¢</span></span><br><span class="line"><span class="attr">port</span>=<span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">9001</span>; Webç®¡ç†åå°è¿è¡Œçš„IPå’Œç«¯å£</span><br><span class="line"><span class="attr">username</span>=user; ç™»å½•ç®¡ç†åå°çš„ç”¨æˆ·å</span><br><span class="line"><span class="attr">password</span>=<span class="number">123</span>; ç™»å½•ç®¡ç†åå°çš„å¯†ç </span><br><span class="line"></span><br><span class="line"><span class="section">[supervisord]</span></span><br><span class="line"><span class="attr">logfile</span>=/tmp/supervisord.log ; ä¸»ç¨‹åºçš„æ—¥å¿—æ–‡ä»¶</span><br><span class="line"><span class="attr">logfile_maxbytes</span>=<span class="number">50</span>MB Â  Â  Â   ; ä¸»ç¨‹åºæ—¥å¿—å¤§å°ï¼Œé»˜è®¤ <span class="number">50</span>MBï¼Œ<span class="number">0</span>ï¼Œè¡¨ç¤ºä¸é™åˆ¶</span><br><span class="line"><span class="attr">logfile_backups</span>=<span class="number">10</span> Â  Â  Â  Â  Â  ; ä¸»ç¨‹åºæ—¥å¿—å¤‡ä»½æ•°é‡ï¼Œé»˜è®¤<span class="number">10</span>ï¼Œ<span class="number">0</span>ï¼Œè¡¨ç¤ºä¸å¤‡ä»½</span><br><span class="line"><span class="attr">loglevel</span>=info Â  Â  Â  Â  Â  Â  Â   ; ä¸»ç¨‹åºæ—¥å¿—çº§åˆ«ï¼Œé»˜è®¤ infoï¼Œå…¶å®ƒ: debug,warn,trace</span><br><span class="line"><span class="attr">pidfile</span>=/tmp/supervisord.pid ; supervisord pid æ–‡ä»¶; é»˜è®¤ supervisord.pid</span><br><span class="line"><span class="attr">nodaemon</span>=<span class="literal">false</span>               ; æ˜¯å¦åœ¨å‰å°å¯åŠ¨ï¼Œé»˜è®¤æ˜¯<span class="literal">false</span>ï¼Œå³ä»¥ daemon çš„æ–¹å¼å¯åŠ¨</span><br><span class="line"><span class="attr">minfds</span>=<span class="number">1024</span>                  ; å¯ä»¥æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦çš„æœ€å°å€¼ï¼Œé»˜è®¤ <span class="number">1024</span></span><br><span class="line"><span class="attr">minprocs</span>=<span class="number">200</span>                 ; å¯ä»¥æ‰“å¼€çš„è¿›ç¨‹æ•°çš„æœ€å°å€¼ï¼Œé»˜è®¤ <span class="number">200</span></span><br><span class="line"><span class="comment">;umask=022 Â  Â  Â  Â  Â  Â  Â  Â  Â  ; umask 022 åˆ›å»ºæ–°æ–‡ä»¶æƒé™ä¸º755</span></span><br><span class="line"><span class="comment">;user=chrism Â  Â  Â  Â  Â  Â  Â  Â  ; å¯åŠ¨ç”¨æˆ·ï¼Œé»˜è®¤ä¸ºå½“å‰ç”¨æˆ·</span></span><br><span class="line"><span class="comment">;identifier=supervisor Â  Â  Â  ; supervisord æ ‡è¯†, é»˜è®¤ `supervisor`</span></span><br><span class="line"><span class="comment">;directory=/tmp Â  Â  Â  Â  Â  Â   ; å½“ supervisord å®ˆæŠ¤è¿›ç¨‹æ—¶ï¼Œåˆ‡æ¢åˆ°æ­¤ç›®å½•</span></span><br><span class="line"><span class="comment">;nocleanup=true Â  Â  Â  Â  Â  Â   ; å¯åŠ¨æ—¶æ¸…é™¤å­æ—¥å¿—æ–‡ä»¶ï¼Œé»˜è®¤ false</span></span><br><span class="line"><span class="comment">;childlogdir=/tmp Â  Â  Â  Â  Â   ; å­æ—¥å¿—æ–‡ä»¶è·¯å¾„ é»˜è®¤ä¸º $TEMP</span></span><br><span class="line"><span class="comment">;environment=KEY="value" Â  Â  ; æ·»åŠ ç¯å¢ƒå˜é‡åˆ° supervisord è¿›ç¨‹çš„ç¯å¢ƒä¸­</span></span><br><span class="line"><span class="comment">;strip_ansi=false Â  Â  Â  Â  Â   ; åˆ é™¤æ—¥å¿—æ–‡ä»¶ä¸­æ‰€æœ‰ANSIè½¬ä¹‰åºåˆ—</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section">[rpcinterface:supervisor]</span></span><br><span class="line"><span class="attr">supervisor.rpcinterface_factory</span> = supervisor.rpcinterface:make_main_rpcinterface</span><br><span class="line"></span><br><span class="line"><span class="section">[supervisorctl]</span></span><br><span class="line"><span class="attr">serverurl</span>=unix:///tmp/supervisor.sock; é€šè¿‡UNIX socket è¿æ¥supervisordï¼Œä¸[unix_http_server]éƒ¨åˆ†fileä¸€è‡´</span><br><span class="line"><span class="comment">;serverurl=http://127.0.0.1:9001 ; é€šè¿‡ HTTP æ–¹å¼è¿æ¥ supervisord</span></span><br><span class="line"><span class="comment">;username=chris              ; ç”¨äºèº«ä»½éªŒè¯çš„ç”¨æˆ·åã€‚ä¸ supervisord æœåŠ¡å™¨é…ç½®çš„ç”¨æˆ·åç›¸åŒ</span></span><br><span class="line"><span class="comment">;password=123 Â  Â  Â  Â  Â  Â  Â   ; ç”¨äºèº«ä»½éªŒè¯çš„å¯†ç ã€‚ä¸ supervisord æœåŠ¡å™¨é…ç½®çš„å¯†ç çš„æ˜æ–‡ç›¸åŒã€‚</span></span><br><span class="line"><span class="comment">;prompt=mysupervisor         ; ç”¨ä½œ supervisorctl æç¤ºç¬¦çš„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">;history_file=~/.sc_history  ; ç”¨ä½œ readline æŒä¹…æ€§å†å²è®°å½•æ–‡ä»¶çš„è·¯å¾„</span></span><br><span class="line"></span><br><span class="line"><span class="section">[include]</span></span><br><span class="line"><span class="attr">files</span> = /etc/supervisor/conf.d/*.ini ; å¯ä»¥æŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªä»¥.iniç»“æŸçš„é…ç½®æ–‡ä»¶</span><br></pre></td></tr></tbody></table></figure><p></p><p><b>é…ç½®ç®¡ç†è¿›ç¨‹</b></p><p>è¿›ç¨‹ç®¡ç†é…ç½®å‚æ•°ï¼Œä¸å»ºè®®å…¨éƒ½å†™åœ¨ <code>supervisord.conf</code> æ–‡ä»¶ä¸­ï¼Œå»ºè®®æ¯ä¸ªè¿›ç¨‹é‡‡ç”¨ä¸€ä¸ªé…ç½®æ–‡ä»¶æ”¾åˆ° <code>supervisord.conf</code> é…ç½®ä¸­ <code>[include]</code>å­—æ®µ <code>files</code> æŒ‡å®šçš„è·¯å¾„ä¸‹</p><figure class="highlight ini"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">;[program:programname]; program:xxx (xxx ä¸ºè‡ªå®šä¹‰çš„ç®¡ç†çš„è¿›ç¨‹çš„åç§°åç§°ï¼Œä¸å¯é‡å¤)</span></span><br><span class="line"><span class="comment">;command=/bin/cat; ç¨‹åºå¯åŠ¨å‘½ä»¤ (è¯¥å‘½ä»¤åªèƒ½æ˜¯å‰å°ä»»åŠ¡å‘½ä»¤)</span></span><br><span class="line"><span class="comment">;process_name=%(program_name)s; è¿›ç¨‹åç§°</span></span><br><span class="line"><span class="comment">;numprocs=1; è¿›ç¨‹æ•°é‡ (é»˜è®¤ä¸º 1)</span></span><br><span class="line"><span class="comment">;directory=/tmp Â  Â  Â  Â  Â  Â  Â  ; åœ¨æ‰§è¡Œ command ä¹‹å‰ï¼Œsupervisord åˆ‡æ¢åˆ°çš„ç›®å½•ã€‚</span></span><br><span class="line"><span class="comment">;autostart=true                ; supervisord å¯åŠ¨çš„æ—¶å€™ä¹Ÿè‡ªåŠ¨å¯åŠ¨</span></span><br><span class="line"><span class="comment">;startsecs=1                   ; å¯åŠ¨1ç§’åæ²¡æœ‰å¼‚å¸¸é€€å‡ºï¼Œå°±è¡¨ç¤ºè¿›ç¨‹æ­£å¸¸å¯åŠ¨äº†ï¼Œé»˜è®¤ä¸º1ç§’</span></span><br><span class="line"><span class="comment">;startretries=3 Â  Â  Â  Â  Â  Â  Â   ; å¯åŠ¨å¤±è´¥è‡ªåŠ¨é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤æ˜¯3æ¬¡</span></span><br><span class="line"><span class="comment">;autorestart=unexpected Â  Â  Â   ; ç¨‹åºé€€å‡ºåè‡ªåŠ¨é‡å¯,å¯é€‰å€¼ï¼š[unexpected,true,false]ï¼Œé»˜è®¤ä¸ºunexpectedï¼Œè¡¨ç¤ºè¿›ç¨‹æ„å¤–æ€æ­»åæ‰é‡å¯</span></span><br><span class="line"><span class="comment">;stopasgroup=false             ; è¿›ç¨‹è¢«æ€æ­»æ—¶ï¼Œæ˜¯å¦å‘è¿™ä¸ªè¿›ç¨‹ç»„å‘é€stopä¿¡å·ï¼ŒåŒ…æ‹¬å­è¿›ç¨‹</span></span><br><span class="line"><span class="comment">;killasgroup=false             ; è¿›ç¨‹ç»„å‘é€killä¿¡å·ï¼ŒåŒ…æ‹¬å­è¿›ç¨‹</span></span><br><span class="line"><span class="comment">;user=chrism Â  Â  Â  Â  Â  Â  Â  Â  Â  ; å¯åŠ¨è¿›ç¨‹çš„ç”¨æˆ·</span></span><br><span class="line"><span class="comment">;redirect_stderr=false Â  Â  Â  Â   ; æŠŠstderré‡å®šå‘åˆ°stdoutï¼Œé»˜è®¤false</span></span><br><span class="line"><span class="comment">;stdout_logfile=/a/path Â  Â  Â   ; stdout æ—¥å¿—æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="comment">;stdout_logfile_maxbytes=1MB Â  ; stdout æ—¥å¿—æ–‡ä»¶å¤§å° 0 è¡¨ç¤ºæ— é™åˆ¶</span></span><br><span class="line"><span class="comment">;stdout_logfile_backups=10 Â  Â  ; stdout æ—¥å¿—æ–‡ä»¶å¤‡ä»½æ•°é‡ 0 è¡¨ç¤ºä¸å¤‡ä»½</span></span><br><span class="line"><span class="comment">;stdout_capture_maxbytes=1MB Â  ; stdout æ•è·æ¨¡å¼ æ—¥å¿—æ–‡ä»¶å¤§å°</span></span><br><span class="line"><span class="comment">;stderr_logfile=/a/path Â  Â  Â   ; stderr æ—¥å¿—æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="comment">;stderr_logfile_maxbytes=1MB Â  ; stderr æ—¥å¿—æ–‡ä»¶å¤§å° 0 è¡¨ç¤ºæ— é™åˆ¶</span></span><br><span class="line"><span class="comment">;stderr_logfile_backups=10     ; stderr æ—¥å¿—æ–‡ä»¶å¤‡ä»½æ•°é‡ 0 è¡¨ç¤ºä¸å¤‡ä»½</span></span><br><span class="line"><span class="comment">;stderr_capture_maxbytes=1MB   ; stderr æ•è·æ¨¡å¼ æ—¥å¿—æ–‡ä»¶å¤§å°</span></span><br><span class="line"><span class="comment">;environment=A="1",B="2" Â  Â  Â  ; æ·»åŠ ç¯å¢ƒå˜é‡åˆ°å­è¿›ç¨‹çš„ç¯å¢ƒä¸­</span></span><br></pre></td></tr></tbody></table></figure><p><b>å¯åŠ¨SupervisoræœåŠ¡</b></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">supervisord -c /etc/supervisor/supervisord.conf</span><br></pre></td></tr></tbody></table></figure><p><b>supervisorctl ç®¡ç†è¿›ç¨‹</b></p><p>å¯åŠ¨æˆåŠŸåï¼Œå°±å¯ä»¥é€šè¿‡ supervisorctl ç®¡ç†è¿›ç¨‹ã€‚åœ¨ shell ä¸­ç›´æ¥è¾“å…¥ <code>supervisorctl</code> å°±å¯ä»¥ç›´æ¥è¿›å…¥äº¤äº’å¼çš„ç¯å¢ƒä¸­<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">supervisor></span><span class="bash"> status<span class="comment"># æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹çš„çŠ¶æ€</span></span></span><br><span class="line"><span class="meta">supervisor></span><span class="bash"> update<span class="comment"># é‡å¯é…ç½®æ–‡ä»¶ä¿®æ”¹è¿‡çš„ç¨‹åº</span></span></span><br><span class="line"><span class="meta">supervisor></span><span class="bash"> reread<span class="comment"># è¯»å–æœ‰æ›´æ–°ï¼ˆå¢åŠ ï¼‰çš„é…ç½®æ–‡ä»¶ï¼Œä¸ä¼šå¯åŠ¨æ–°æ·»åŠ çš„ç¨‹åº</span></span></span><br><span class="line"><span class="meta">supervisor></span><span class="bash"> start program<span class="comment"># å¯åŠ¨ program ç¨‹åº</span></span></span><br><span class="line"><span class="meta">supervisor></span><span class="bash"> stop program<span class="comment"># åœæ­¢ program ç¨‹åº</span></span></span><br><span class="line"><span class="meta">supervisor></span><span class="bash"> restart program<span class="comment"># é‡å¯ program ç¨‹åº</span></span></span><br></pre></td></tr></tbody></table></figure><p></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;b&gt;Supervisor&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://supervisord.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;Supervisor&lt;/code&gt;&lt;/a&gt; æ˜¯ä¸€ä¸ªç”¨ &lt;code&gt;Python2&lt;
      
    
    </summary>
    
    
      <category term="Linux" scheme="https://www.zranbo.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>æµç•…çš„Python - æ–‡æœ¬å’Œå­—èŠ‚åºåˆ— (å››)</title>
    <link href="https://www.zranbo.com/item/d12c295b/"/>
    <id>https://www.zranbo.com/item/d12c295b/</id>
    <published>2019-05-27T13:01:00.000Z</published>
    <updated>2019-05-28T11:13:32.783Z</updated>
    
    <content type="html"><![CDATA[<p><b>å­—ç¬¦é—®é¢˜</b></p><p>å­—ç¬¦ä¸²æœ¬èº«æ˜¯ä¸ªå­—ç¬¦åºåˆ—ã€‚è¿™ä¸ªå®šä¹‰æ²¡æœ‰é—®é¢˜ã€‚ä½†æ˜¯é—®é¢˜å‡ºç°åœ¨å¯¹äºâ€œå­—ç¬¦â€çš„å®šä¹‰ä¸Šã€‚å¯¹äºç°åœ¨æ¥è¯´ï¼Œâ€œå­—ç¬¦â€åº”è¯¥æ˜¯ä¸€ä¸ª Unicode å­—ç¬¦ã€‚</p><p>Unicode æ ‡å‡†æŠŠå­—ç¬¦çš„æ ‡è¯†å’Œå…·ä½“çš„å­—èŠ‚è¡¨è¿°è¿›è¡Œäº†å¦‚ä¸‹çš„æ˜ç¡®åŒºåˆ†</p><ul><li>å­—ç¬¦çš„æ ‡è¯†ï¼Œå³ç ä½ï¼Œæ˜¯ 0~1 114 111 çš„æ•°å­—ï¼ˆåè¿›åˆ¶ï¼‰ï¼Œåœ¨ Unicode æ ‡å‡†ä¸­ä»¥ 4~6 ä¸ª åå…­è¿›åˆ¶æ•°å­—è¡¨ç¤ºï¼Œè€Œä¸”åŠ å‰ç¼€â€œU+â€ã€‚ä¾‹å¦‚ï¼Œå­—æ¯ A çš„ç ä½æ˜¯ U+0041ï¼Œæ¬§å…ƒç¬¦å·çš„ ç ä½æ˜¯ U+20ACï¼Œé«˜éŸ³è°±å·çš„ç ä½æ˜¯ U+1D11Eã€‚åœ¨ Unicode 6.3 ä¸­ï¼ˆè¿™æ˜¯ Python 3.4 ä½¿ ç”¨çš„æ ‡å‡†ï¼‰ï¼Œçº¦ 10% çš„æœ‰æ•ˆç ä½æœ‰å¯¹åº”çš„å­—ç¬¦ã€‚</li><li>å­—ç¬¦çš„å…·ä½“è¡¨è¿°å–å†³äºæ‰€ç”¨çš„ç¼–ç ã€‚ç¼–ç æ˜¯åœ¨ç ä½å’Œå­—èŠ‚åºåˆ—ä¹‹é—´è½¬æ¢æ—¶ä½¿ç”¨çš„ç®—æ³•ã€‚ åœ¨ UTF-8 ç¼–ç ä¸­ï¼ŒAï¼ˆU+0041ï¼‰çš„ç ä½ç¼–ç æˆå•ä¸ªå­—èŠ‚ \x41ï¼Œè€Œåœ¨ UTF-16LE ç¼–ç ä¸­ ç¼–ç æˆä¸¤ä¸ªå­—èŠ‚ \x41\x00ã€‚å†ä¸¾ä¸ªä¾‹å­ï¼Œæ¬§å…ƒç¬¦å·ï¼ˆU+20ACï¼‰åœ¨ UTF-8 ç¼–ç ä¸­æ˜¯ä¸‰ä¸ª å­—èŠ‚â€”â€”\xe2\x82\xacï¼Œè€Œåœ¨ UTF-16LE ä¸­ç¼–ç æˆä¸¤ä¸ªå­—èŠ‚ \xac\x20ã€‚</li></ul><p>æŠŠç ä½è½¬æ¢æˆå­—èŠ‚åºåˆ—çš„è¿‡ç¨‹æ˜¯ç¼–ç ï¼›æŠŠå­—èŠ‚åºåˆ—è½¬æ¢æˆç ä½çš„è¿‡ç¨‹æ˜¯è§£ç ã€‚</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">"ä½ å¥½hello"</span></span><br><span class="line">print(s, len(s))</span><br><span class="line">b = s.encode(<span class="string">'utf8'</span>)</span><br><span class="line">print(b, len(b))</span><br><span class="line">print(b.decode(<span class="string">'utf8'</span>))</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;b&gt;å­—ç¬¦é—®é¢˜&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;å­—ç¬¦ä¸²æœ¬èº«æ˜¯ä¸ªå­—ç¬¦åºåˆ—ã€‚è¿™ä¸ªå®šä¹‰æ²¡æœ‰é—®é¢˜ã€‚ä½†æ˜¯é—®é¢˜å‡ºç°åœ¨å¯¹äºâ€œå­—ç¬¦â€çš„å®šä¹‰ä¸Šã€‚å¯¹äºç°åœ¨æ¥è¯´ï¼Œâ€œå­—ç¬¦â€åº”è¯¥æ˜¯ä¸€ä¸ª Unicode å­—ç¬¦ã€‚&lt;/p&gt;
&lt;p&gt;Unicode æ ‡å‡†æŠŠå­—ç¬¦çš„æ ‡è¯†å’Œå…·ä½“çš„å­—èŠ‚è¡¨è¿°è¿›è¡Œäº†å¦‚ä¸‹çš„æ˜ç¡®åŒºåˆ†&lt;/p&gt;
&lt;ul&gt;
      
    
    </summary>
    
    
      <category term="Fluent Python" scheme="https://www.zranbo.com/tags/Fluent-Python/"/>
    
  </entry>
  
  <entry>
    <title>æµç•…çš„Python - å­—å…¸å’Œé›†åˆ (ä¸‰)</title>
    <link href="https://www.zranbo.com/item/3dd06891/"/>
    <id>https://www.zranbo.com/item/3dd06891/</id>
    <published>2019-05-18T04:26:00.000Z</published>
    <updated>2019-05-26T14:06:10.941Z</updated>
    
    <content type="html"><![CDATA[<p><b>æ³›æ˜ å°„ç±»å‹</b> æŠ½è±¡ç±»ï¼š</p><p>åœ¨ collections.abc æ¨¡å—ä¸­æœ‰ <b><a href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping" target="_blank" rel="noopener"><code>Mpping</code></a></b> å’Œ <b><a href="https://docs.python.org/3/library/collections.abc.html#collections.abc.MutableMapping" target="_blank" rel="noopener"><code>MutableMapping</code></a></b> ä¸º <code>dict</code> å’Œå…¶ä»–ä¸€äº›ç±»æä¾›äº†æœ€åŸºæœ¬çš„æ¥å£<br><img src="https://zranbo.oss-cn-beijing.aliyuncs.com/blog/dict-uml.png" alt></p><p><b>å¯æ•£åˆ—ç±»å‹</b></p><ul><li><code>str</code> <code>bytes</code> <code>frozenset</code>åªèƒ½å®¹çº³å¯æ•£åˆ—å¯¹è±¡ï¼Œ<code>tuple</code> åªæœ‰å½“å…¶ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯å¯æ•£åˆ—ç±»å‹æ—¶ï¼Œå®ƒæ‰æ˜¯å¯æ•£åˆ—çš„ã€‚</li><li>å¦‚æœä¸€ä¸ªå¯¹è±¡æ˜¯å¯æ•£åˆ—çš„ï¼Œé‚£ä¹ˆåœ¨å®ƒçš„ç”Ÿå‘½å‘¨æœŸå†…æ•£åˆ—å€¼ä¸å˜ã€‚ä¸æ­¤åŒæ—¶ï¼Œè¯¥å¯¹è±¡è¿˜éœ€è¦å®ç° <code>__hash__()</code> æ–¹æ³•ï¼Œå¹¶ä¸”å¦‚æœéœ€è¦å’Œå…¶ä»–çš„å¯¹è±¡æ•£åˆ—å€¼ç›¸æ¯”ï¼Œå°±å¿…é¡»å†å®ç° <code>__eq__()</code> (å‚è§ <b><a href="https://docs.python.org/3/glossary.html#term-hashable" target="_blank" rel="noopener"><code>hashable</code></a></b>)</li><li>è‡ªå®šä¹‰ç±»å‹çš„å¯¹è±¡é»˜è®¤éƒ½æ˜¯å¯æ•£åˆ—çš„, (å‚è§ <b><a href="https://docs.python.org/3/reference/datamodel.html#object.__hash__" target="_blank" rel="noopener"><code>__hash__()</code></a></b>)ã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡å®ç°äº† <code>__eq__()</code> æ–¹æ³•ï¼Œå¹¶ä¸”åœ¨æ–¹æ³•ä¸­ç”¨åˆ°äº†è¿™ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€çš„è¯ï¼Œé‚£ä¹ˆåªæœ‰å½“æ‰€æœ‰è¿™äº›å†…éƒ¨çŠ¶æ€éƒ½æ˜¯ä¸å¯å˜çš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªå¯¹è±¡æ‰æ˜¯å¯æ•£åˆ—çš„ã€‚æ²¡æœ‰å®ç° <code>__eq__()</code> æ–¹æ³•æ—¶ï¼Œè‡ªå®šä¹‰å¯¹è±¡æ˜¯å¯æ•£åˆ—çš„ï¼Œå¦åˆ™ä¹‹ååœ¨ä¿æŒ <code>__eq__()</code> ä½¿ç”¨çš„å†…éƒ¨çŠ¶æ€ä¸å¯å˜ï¼Œæ‰å¯æ•£åˆ—ã€‚</li></ul><p>eg.<br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestObject</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        self.n = n</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> str(self.n)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">s = set()</span><br><span class="line"></span><br><span class="line">t1 = TestObject(<span class="number">1</span>)</span><br><span class="line">t2 = TestObject(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">s.add(t1)</span><br><span class="line">s.add(t2)</span><br><span class="line">print(s)</span><br></pre></td></tr></tbody></table></figure><p></p><p>è¿™é‡Œçš„ç»“æœæ˜¯ <code>{2, 1}</code></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestObject</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        self.n = n</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> str(self.n)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__eq__</span><span class="params">(self, obj)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> hash(self) == hash(obj)</span><br><span class="line"></span><br><span class="line">s = set()</span><br><span class="line"></span><br><span class="line">t1 = TestObject(<span class="number">1</span>)</span><br><span class="line">t2 = TestObject(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">s.add(t1)</span><br><span class="line">s.add(t2)</span><br><span class="line">print(s)</span><br></pre></td></tr></tbody></table></figure><p>æˆ‘ä»¬åªæ·»åŠ ä¸€ä¸ª <code>__eq__()</code> çš„æ–¹æ³•ä¹‹åè¿™æ®µä»£ç ä¼šæŠ¥é”™ï¼ŒåŸå› æ˜¯åœ¨å®ç°äº† <code>__eq__()</code> è€Œæ²¡æœ‰å®ç°<code>__hash__()</code> çš„æ—¶å€™ï¼Œé»˜è®¤ <code>__hash__()</code> æ–¹æ³•å°†è®¾ä¸º <code>None</code> æ‰€ä»¥æ­¤æ—¶çš„é”™è¯¯ä¸º <code>TypeError: unhashable type: 'TestObject'</code> </p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestObject</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        self.n = n</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> str(self.n)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__eq__</span><span class="params">(self, obj)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> hash(self) == hash(obj)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__hash__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line">s = set()</span><br><span class="line"></span><br><span class="line">t1 = TestObject(<span class="number">1</span>)</span><br><span class="line">t2 = TestObject(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">s.add(t1)</span><br><span class="line">s.add(t2)</span><br><span class="line">print(s)</span><br></pre></td></tr></tbody></table></figure><p>è€Œåœ¨å®ç°äº† <code>__hash__()</code> æ–¹æ³•ä¹‹åï¼Œå¦‚æœæˆ‘ä»¬æŒ‡å®šä¸€ä¸ªç¡®å®šçš„å€¼ä½œä¸ºæ‰€æœ‰å¯¹è±¡çš„ <code>hash</code> çš„ç»“æœï¼Œè¿™æ—¶å€™ <code>s</code> å°±åªæœ‰ä¸€ä¸ªå…ƒç´ äº†ï¼Œå› ä¸ºè¿™ä¸ªæ­¤æ—¶ä¸¤ä¸ªå¯¹è±¡å†è¿›è¡Œæ¯”è¾ƒçš„æ—¶å€™ï¼Œé€šè¿‡ <code>__eq__()</code> æ–¹æ³•ï¼Œä½†æ˜¯æ­¤æ—¶ä¸¤ä¸ªå¯¹è±¡çš„ <code>__hash__()</code> éƒ½è¿”å›çš„æ˜¯ <code>1</code> å› æ­¤å°±åˆ¤å®šè¿™ä¸¤ä¸ªå¯¹è±¡æ˜¯åŒä¸€ä¸ªï¼Œæ‰€ä»¥åœ¨ <code>set</code> ä¸­åªæœ‰ä¸€ä¸ªäº†ã€‚</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestObject</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        self.n = n</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> str(self.n)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__eq__</span><span class="params">(self, obj)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> hash(self) == hash(obj)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__hash__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> id(self)</span><br><span class="line"></span><br><span class="line">s = set()</span><br><span class="line"></span><br><span class="line">t1 = TestObject(<span class="number">1</span>)</span><br><span class="line">t2 = TestObject(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">s.add(t1)</span><br><span class="line">s.add(t2)</span><br><span class="line">print(s)</span><br><span class="line">print(t1 <span class="keyword">is</span> t2)</span><br></pre></td></tr></tbody></table></figure><p><b>å­—å…¸çš„å®šä¹‰</b></p><p>å­—å…¸ <code>dict</code> æ˜¯ä¸€ç§æ˜ å°„ç±»å‹çš„æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ <code>isinstance(obj, abc.Mapping)</code> æ¥åˆ¤æ–­ä»»ä½•ä¸€ç§å¯¹è±¡æ˜¯ä¸æ˜¯å¹¿ä¹‰ä¸Šçš„æ˜ å°„ç±»å‹ï¼Œè¿™é‡Œçš„ <code>obj</code> å¯ä»¥æ˜¯å†…ç½®çš„ä»»ä½•ä¸€ç§æ•°æ®ï¼Œå½“ç„¶ä¹Ÿå¯æ˜¯æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„ä»»ä½•ä¸€ç§æ•°æ®ã€‚</p><p><b>æ„é€ ä¸€ä¸ªå­—å…¸</b></p><p>æ„é€ ä¸€ä¸ªå­—å…¸å¯ä»¥æœ‰å¾ˆå¤šç§ä¸åŒçš„å½¢å¼<br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">d = dict(a=<span class="number">1</span>, b=<span class="number">2</span>, c=<span class="number">3</span>)</span><br><span class="line">print(d)</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">d = {<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: <span class="number">2</span>, <span class="string">'c'</span>: <span class="number">3</span>}</span><br><span class="line">print(d)</span><br></pre></td></tr></tbody></table></figure><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">d = dict([(<span class="string">'a'</span>, <span class="number">1</span>), (<span class="string">'b'</span>, <span class="number">2</span>), (<span class="string">'c'</span>, <span class="number">3</span>)])</span><br><span class="line">print(d)</span><br></pre></td></tr></tbody></table></figure><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">d = dict({<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: <span class="number">2</span>, <span class="string">'c'</span>: <span class="number">3</span>})</span><br><span class="line">print(d)</span><br></pre></td></tr></tbody></table></figure><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">d = dict(zip([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]))</span><br><span class="line">print(d)</span><br></pre></td></tr></tbody></table></figure><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">data = [</span><br><span class="line">    (<span class="string">'a'</span>, <span class="number">1</span>),</span><br><span class="line">    (<span class="string">'b'</span>, <span class="number">2</span>),</span><br><span class="line">    (<span class="string">'c'</span>, <span class="number">3</span>)</span><br><span class="line">]</span><br><span class="line">d = {k: v <span class="keyword">for</span> k, v <span class="keyword">in</span> data}</span><br><span class="line">print(d)</span><br></pre></td></tr></tbody></table></figure><p><b><code>collections.defaultdict</code> å’Œ <code>collections.OrderedDict</code></b></p><p><code>collections</code> æ˜¯ä¸€ä¸ªæ•°æ®ç±»å‹å®¹å™¨æ¨¡å—ã€‚<br>æœ‰å…³ <a href="https://docs.python.org/3.7/library/collections.html#collections.defaultdict" target="_blank" rel="noopener"><code>defaultdict</code></a> å’Œ <a href="https://docs.python.org/3.7/library/collections.html#collections.OrderedDict" target="_blank" rel="noopener"><code>OrderedDict</code></a> çš„ä»‹ç»å’Œè‰çœ‹ä½¿ç”¨å¯ä»¥å‚é˜…æ–‡æ¡£ã€‚</p><p><b><code>dict</code> <code>defaultdict</code> å’Œ <code>OrderedDict</code> å¯¹æ¯”</b></p><table><thead><tr><th style="text-align:center">æ–¹æ³•å</th><th style="text-align:center">è¯´æ˜</th><th style="text-align:center">dict</th><th style="text-align:center">defaultdict</th><th style="text-align:center">OrderedDict</th></tr></thead><tbody><tr><td style="text-align:center"><code>d.__contains__(k)</code></td><td style="text-align:center"><code>k in d</code></td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>d.__copy__()</code></td><td style="text-align:center"><code>copy.copy(d)</code></td><td style="text-align:center">âœ—</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ—</td></tr><tr><td style="text-align:center"><code>d.__len__()</code></td><td style="text-align:center"><code>len(d)</code></td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>d.__setitem__(k, v)</code></td><td style="text-align:center"><code>d[k] = v</code></td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>d.__getitem__(k)</code></td><td style="text-align:center"><code>v = d[k]</code></td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>d.__delitem__(k)</code></td><td style="text-align:center"><code>del d[k]</code></td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>d.__iter__()</code></td><td style="text-align:center"><code>key</code>çš„è¿­ä»£å™¨</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>d.keys()</code></td><td style="text-align:center">è·å–æ‰€æœ‰<code>key</code></td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>d.values()</code></td><td style="text-align:center">è·å–æ‰€æœ‰<code>value</code></td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>d.copy()</code></td><td style="text-align:center">æµ…æ‹·è´</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>d.clear()</code></td><td style="text-align:center">æ¸…ç©ºæ‰€æœ‰æ•°æ®</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>d.update(m, [**kargs])</code></td><td style="text-align:center"><code>m</code> æ˜¯æ˜ å°„æˆ–è€…é”®å€¼å¯¹è¿­ä»£å™¨ï¼Œæ›´æ–° <code>d</code> é‡Œå¯¹åº”çš„æ¡ç›®</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>d.fromkeys(it, [initial])</code></td><td style="text-align:center">è¿­ä»£å™¨ <code>it</code> é‡Œçš„å…ƒç´ è®¾ç½®ä¸ºæ˜ å°„é‡Œçš„ <code>key</code>ï¼Œå¯é€‰ <code>initial</code> å‚æ•°ï¼Œä½œä¸ºè¿™äº›é”®å¯¹åº”çš„å€¼(é»˜è®¤ <code>None</code>)</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>d.setdefault(k, [default])</code></td><td style="text-align:center">å¦‚æœæœ‰é”® <code>k</code>ï¼ŒæŠŠå®ƒçš„å€¼è®¾ç½®ä¸º <code>default</code> ï¼Œå¦åˆ™ <code>d[k] = default</code>ï¼Œè¿”å› <code>default</code></td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>d.get(k, [default])</code></td><td style="text-align:center">è¿”å› <code>k</code> å¯¹åº”çš„å€¼ï¼Œå¦‚æœæ²¡æœ‰ <code>k</code>ï¼Œåˆ™è¿”å› <code>default</code></td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>d.pop(k, [defaul]</code></td><td style="text-align:center">è¿”å› <code>k</code> æ‰€åº”çš„å€¼ï¼Œå¼¹å‡ºè¿™ä¸ª<code>k-v</code>ã€‚å¦‚æœæ²¡æœ‰è¿™ä¸ª<code>k</code>ï¼Œè¿”å› <code>defaul</code></td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>d.items()</code></td><td style="text-align:center">è¿”å› <code>d</code> é‡Œæ‰€æœ‰çš„ <code>k-v</code></td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>d.popitem()</code></td><td style="text-align:center">éšæœºå¼¹å‡ºä¸€ä¸ª <code>k-v</code> å¯¹ã€‚ä¼šç§»é™¤å­—å…¸é‡Œæœ€å…ˆæ’å…¥çš„å…ƒç´ (FIFO)ï¼›å¯é€‰ <code>last</code> å‚æ•°ä¸º<code>True</code>ï¼Œå¼¹å‡ºæœ€åæ’å…¥çš„å…ƒç´ (LIFO)ã€‚</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>d.__missing__(k)</code></td><td style="text-align:center">å½“ <code>__getitem__</code> æ‰¾ä¸åˆ°å¯¹åº” <code>k</code> çš„æ—¶å€™ä¼šè¢«è°ƒç”¨</td><td style="text-align:center">âœ—</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ—</td></tr><tr><td style="text-align:center"><code>d.default_factory</code></td><td style="text-align:center">åœ¨ <code>__missing__</code> å‡½æ•°ä¸­ç”¨ä»¥ç»™æœªæ‰¾åˆ°çš„å…ƒç´ è®¾ç½®å€¼</td><td style="text-align:center">âœ—</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ—</td></tr><tr><td style="text-align:center"><code>d.move_to_end(k, [last])</code></td><td style="text-align:center">æŠŠ <code>k</code> çš„å…ƒç´ ç§»åŠ¨åˆ°æœ€å‰æˆ–æœ€å(<code>last</code> é»˜è®¤ <code>True</code>)</td><td style="text-align:center">âœ—</td><td style="text-align:center">âœ—</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>d.__reversed__()</code></td><td style="text-align:center">è¿”å›å€’åºçš„ <code>key</code> çš„è¿­ä»£å™¨</td><td style="text-align:center">âœ—</td><td style="text-align:center">âœ—</td><td style="text-align:center">âœ“</td></tr></tbody></table><p><b>é›†åˆ <code>set</code> </b></p><p><img src="https://zranbo.oss-cn-beijing.aliyuncs.com/blog/set-uml.png" alt></p><p>é›†åˆæ˜¯è®¸å¤šå”¯ä¸€å¯¹è±¡çš„èšåˆã€‚<br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">l = [<span class="string">'spam'</span>, <span class="string">'spam'</span>, <span class="string">'eggs'</span>, <span class="string">'spam'</span>]</span><br><span class="line">s = set(l)</span><br><span class="line">print(list(s))</span><br></pre></td></tr></tbody></table></figure><p></p><p>é›†åˆä¸­çš„å…ƒç´ å¿…é¡»æ˜¯å¯æ•£åˆ—çš„ï¼Œ<code>set</code> ç±»å‹æœ¬èº«æ˜¯ä¸å¯æ•£åˆ—çš„ï¼Œä½†æ˜¯ <code>frozenset</code> å¯ä»¥ã€‚æ‰€ä»¥å¯ä»¥åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸åŒ <code>frozenset</code> çš„ <code>set</code>ã€‚</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;b&gt;æ³›æ˜ å°„ç±»å‹&lt;/b&gt; æŠ½è±¡ç±»ï¼š&lt;/p&gt;
&lt;p&gt;åœ¨ collections.abc æ¨¡å—ä¸­æœ‰ &lt;b&gt;&lt;a href=&quot;https://docs.python.org/3/library/collections.abc.html#collections.abc.Mappin
      
    
    </summary>
    
    
      <category term="Fluent Python" scheme="https://www.zranbo.com/tags/Fluent-Python/"/>
    
  </entry>
  
  <entry>
    <title>Hexo æ ‡ç­¾æ’ä»¶</title>
    <link href="https://www.zranbo.com/item/b32026b8/"/>
    <id>https://www.zranbo.com/item/b32026b8/</id>
    <published>2019-05-17T15:06:00.000Z</published>
    <updated>2019-05-18T04:27:59.685Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Hexoå†…ç½®"><a href="#Hexoå†…ç½®" class="headerlink" title="Hexoå†…ç½®"></a>Hexoå†…ç½®</h1><p><b>å¼•ç”¨å— (blockquote)</b></p><ul><li><p>ä»£ç </p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">{% blockquote [author[, source]] [link] [source_link_title] %}</span><br><span class="line">content</span><br><span class="line">{% endblockquote %}</span><br></pre></td></tr></tbody></table></figure></li><li><p>æ•ˆæœ</p></li></ul><blockquote><p>Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.</p><footer><strong>David Levithan</strong><cite>Wide Awake</cite></footer></blockquote><hr><p><b>Pull Quote</b></p><ul><li><p>ä»£ç </p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">{% pullquote [class] %}</span><br><span class="line">content</span><br><span class="line">{% endpullquote %}</span><br></pre></td></tr></tbody></table></figure></li><li><p>æ•ˆæœ</p></li></ul><blockquote class="pullquote Wide Awake"><p>Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.</p></blockquote><h1 id="NexT-å†…ç½®"><a href="#NexT-å†…ç½®" class="headerlink" title="NexT å†…ç½®"></a>NexT å†…ç½®</h1><p><b>Bootstrap Callout</b></p><ul><li><p>ä»£ç </p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{% note [class] %} Content {% endnote %}</span><br></pre></td></tr></tbody></table></figure><p>classä¸ºä¸€ä¸‹ä¹‹ä¸€ï¼š</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">default</span><br><span class="line">primary</span><br><span class="line">success</span><br><span class="line">info</span><br><span class="line">warning</span><br><span class="line">danger</span><br></pre></td></tr></tbody></table></figure></li><li><p>æ•ˆæœ</p></li></ul><div class="note default"><p>Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy. </p></div><div class="note primary"><p>Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy. </p></div><div class="note success"><p>Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy. </p></div><div class="note info"><p>Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy. </p></div><div class="note warning"><p>Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy. </p></div><div class="note danger"><p>Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy. </p></div><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Hexoå†…ç½®&quot;&gt;&lt;a href=&quot;#Hexoå†…ç½®&quot; class=&quot;headerlink&quot; title=&quot;Hexoå†…ç½®&quot;&gt;&lt;/a&gt;Hexoå†…ç½®&lt;/h1&gt;&lt;p&gt;&lt;b&gt;å¼•ç”¨å— (blockquote)&lt;/b&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ä»£ç &lt;/p&gt;
&lt;figure
      
    
    </summary>
    
    
      <category term="Hexo" scheme="https://www.zranbo.com/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>æµç•…çš„Python - åºåˆ—æ„æˆçš„æ•°ç»„ (äºŒ)</title>
    <link href="https://www.zranbo.com/item/2e88435f/"/>
    <id>https://www.zranbo.com/item/2e88435f/</id>
    <published>2019-05-15T09:01:00.000Z</published>
    <updated>2019-05-18T04:28:04.414Z</updated>
    
    <content type="html"><![CDATA[<p><b>åºåˆ—ç±»å‹æ¦‚å¿µ</b></p><p>è°ˆèµ·åºåˆ—ï¼Œæˆ‘ä»¬èƒ½è¯´çš„å°±æœ‰å¾ˆå¤šäº†ï¼Œæ¯”å¦‚æˆ‘ä»¬å¾ˆå¸¸ç”¨çš„<code>str</code> , <code>list</code> , <code>tuple</code> ç­‰ï¼ŒPythonç”¨Cè¯­è¨€å®ç°äº†ä¸°å¯Œçš„åºåˆ—ç±»å‹ï¼š</p><ul><li><p>å®¹å™¨åºåˆ—ï¼ˆè¿™äº›åºåˆ—å¯ä»¥å­˜æ”¾ä¸åŒç±»å‹çš„æ•°æ®ï¼‰</p><p><code>list</code> <code>tuple</code> ç­‰</p></li><li><p>æ‰å¹³åºåˆ—ï¼ˆè¿™äº›åºåˆ—åªèƒ½å­˜æ”¾åŒä¸€ç§ç±»å‹æ•°æ®ï¼‰</p><p><code>str</code> <code>bytes</code> <code>bytearray</code> <code>memoryview</code> <code>array.array</code> ç­‰</p><p>è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹ç‚¹çš„æ˜¯ï¼Œå¯¹äºå®¹å™¨åºåˆ—ï¼Œé‡Œé¢å­˜æ”¾çš„æ˜¯ä»»æ„ç±»å‹çš„å¯¹è±¡çš„<b>å¼•ç”¨</b>ï¼Œè€Œæ‰å¹³åºåˆ—æ˜¯ä¸€ä¸²è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œä¿å­˜çš„æ˜¯è¿™äº›æ•°æ®çš„å€¼ã€‚</p></li></ul><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">val = [<span class="number">1</span>]</span><br><span class="line">ctn = [val]</span><br><span class="line"></span><br><span class="line">print(ctn)</span><br><span class="line">val.append(<span class="number">2</span>)</span><br><span class="line">print(ctn)</span><br></pre></td></tr></tbody></table></figure><p><b>åˆ—è¡¨æ¨å¯¼å¼</b><br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">string = <span class="string">"hello world"</span></span><br><span class="line">lst = [x.upper() <span class="keyword">for</span> x <span class="keyword">in</span> string]</span><br></pre></td></tr></tbody></table></figure><p></p><p>è¿™æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„åˆ—è¡¨æ¨å¯¼å¼ï¼Œå½“ç„¶ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦ä¸€äº›å¤æ‚çš„ä¸œè¥¿ï¼Œå¯ä»¥è¿™æ ·å˜åŒ–ä¸€ä¸‹</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">colors = [<span class="string">'red'</span>, <span class="string">'blue'</span>, <span class="string">'pink'</span>]</span><br><span class="line">sizes = [<span class="string">'M'</span>, <span class="string">'L'</span>, <span class="string">'XL'</span>]</span><br><span class="line"></span><br><span class="line">goods = [(color, size) <span class="keyword">for</span> color <span class="keyword">in</span> colors <span class="keyword">for</span> size <span class="keyword">in</span> sizes]</span><br><span class="line">print(goods)</span><br><span class="line">goods = [(color, size) <span class="keyword">for</span> size <span class="keyword">in</span> sizes <span class="keyword">for</span> color <span class="keyword">in</span> colors]</span><br><span class="line">print(goods)</span><br></pre></td></tr></tbody></table></figure><p>è°ƒæ¢äº†ä¸€ä¸‹åé¢è¿­ä»£çš„å…ˆåé¡ºåºï¼Œå¯ä»¥çœ‹åˆ°ç»“æœæœ‰äº†å˜åŒ–ã€‚</p><p><b>ç”Ÿæˆå™¨è¡¨è¾¾å¼</b></p><p>ä»ä½¿ç”¨ä¸Šæ¥è¯´ï¼Œå’Œåˆ—è¡¨æ¨å¯¼å¼æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«ï¼Œåªæ˜¯å°†<code>[ ]</code>æ¢æˆ<code>( )</code>ã€‚<br>åˆ—è¡¨æ¨å¯¼å¼æœ€ç»ˆå¾—åˆ°çš„æ˜¯ä¸€ä¸ªåˆ—è¡¨å¯¹è±¡ï¼Œè€Œç”Ÿæˆå™¨è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªå…ƒç»„å¯¹è±¡ã€‚</p><p><b>å…ƒç»„ä¸ä»…ä»…æ˜¯ä¸å¯å˜çš„åˆ—è¡¨</b></p><p>å…ƒç»„çš„ä¸€ä¸ªç‰¹æ®Šä¹‹å¤„æ˜¯å¯¹è±¡ä¸€æ—¦è¢«åˆ›å»ºï¼Œå°±ä¸èƒ½æ›´æ”¹ï¼ŒåŒ…æ‹¬å€¼å’Œå€¼æ‰€åœ¨çš„ä½ç½®</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">t1 = (<span class="string">'a'</span>, <span class="string">'b'</span>)</span><br><span class="line">t2 = (<span class="string">'a'</span>, <span class="string">'b'</span>)</span><br><span class="line">t3 = (<span class="string">'b'</span>, <span class="string">'a'</span>)</span><br><span class="line"></span><br><span class="line">print(t1 <span class="keyword">is</span> t2)</span><br><span class="line">print(t1 <span class="keyword">is</span> t3)</span><br></pre></td></tr></tbody></table></figure><p>æ­£å› ä¸ºè¿™ä¸ªï¼Œå…ƒç»„å°±å˜å¾—æœ‰ç‚¹æ„æ€äº†ï¼Œå› ä¸ºé™¤äº†å…·ä½“çš„å€¼ï¼Œå…ƒç»„è¿˜å¯ä»¥æ¯”åˆ—è¡¨å¤šè®°å½•ä¸€é¡¹å†…å®¹ï¼šè¿™äº›æ•°æ®çš„ä½ç½®ä¹Ÿå¯ä»¥ç”¨æ¥ä¿å­˜ä¸€å®šçš„ä¿¡æ¯ã€‚</p><p><b>åºåˆ—çš„æ‹†åŒ…</b></p><p>æ³¨æ„è¿™é‡Œæˆ‘ä»¬å¹¶æ²¡æœ‰ç”¨å…ƒç»„çš„æ‹†åŒ…ï¼Œé‚£æ˜¯å› ä¸ºå¹¶ä¸æ˜¯åªæœ‰å…ƒç»„æ‰èƒ½æ‹†åŒ…ï¼Œè€Œæ˜¯ä¸€èˆ¬çš„ï¼Œå¯¹äºå¤§å¤šæ•°Pythonçš„åºåˆ—ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥è¿™è¦å»åš<br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">eg = (<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>)</span><br><span class="line">ele1, ele2, ele3 = eg</span><br><span class="line">print(ele1, ele2, ele3)</span><br><span class="line"></span><br><span class="line">egl = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br><span class="line">ele1, ele2, ele3 = egl</span><br><span class="line">print(ele1, ele2, ele3)</span><br><span class="line"></span><br><span class="line">eg2 = {<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: <span class="number">2</span>, <span class="string">'c'</span>: <span class="number">3</span>}</span><br><span class="line">ele1, ele2, ele3 = eg2</span><br><span class="line">print(ele1, ele2, ele3)</span><br><span class="line"></span><br><span class="line">eg3 = <span class="string">'abc'</span></span><br><span class="line">ele1, ele2, ele3 = eg3</span><br><span class="line">print(ele1, ele2, ele3)</span><br></pre></td></tr></tbody></table></figure><p></p><p>å€¼å¾—æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œå¯¹äºå­—å…¸ <code>dict</code> çš„æ‹†åŒ…ï¼Œå¹¶ä¸æ˜¯æŠŠ <code>key-value</code> è¿™ä¸ªé”®å€¼å¯¹æ‹¿å‡ºæ¥äº†ï¼Œè€Œåªæ˜¯æŠŠ <code>key</code> æ‹†å¼€äº†ï¼Œå…¶å®å¯¹äºè¿™ä¸ªæˆ‘ä»¬ä¸€ç‚¹ä¹Ÿä¸æƒŠè®¶ï¼Œæ¯•ç«Ÿå¦‚æœæˆ‘ä»¬éœ€è¦å¯¹å­—å…¸çš„ <code>key-value</code> éƒ½è¿›è¡Œè¿­ä»£ï¼Œå¹¶ä¸æ˜¯ <code>for data in dict</code> è€Œæ˜¯ <code>for k, v in dict.items()</code> æ³¨æ„è§‚å¯Ÿåˆ°å…¶å®æˆ‘ä»¬ä¹Ÿå‘ç°äº†ï¼Œè¿™é‡Œä¸å°±æ˜¯ç”¨äº†å¯¹å­—å…¸çš„ <code>key-value</code> æ‹†åŒ…çš„æ–¹æ³•ä¹ˆï¼Ÿ</p><p><b>åºåˆ—æ‹†åŒ…ä¸­ <code>*</code> çš„ä½œç”¨</b></p><p>å¯¹äºæ‹†åŒ…è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>*</code> æ¥åŒ…å«å¤šä¸ªå…ƒç´ <br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">t = (<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>)</span><br><span class="line">ele1, ele2, *eles = t</span><br><span class="line">print(ele1, ele2, eles)</span><br></pre></td></tr></tbody></table></figure><p></p><p>è€Œ <code>*</code> è¡¨ç¤ºçš„å¤šä¸ªå…ƒç´ åˆ™ä¼šæ”¾åˆ°ä¸€ä¸ªåˆ—è¡¨ä¸­å»ã€‚</p><p>è€Œä¸”è¿™ä¸ª <code>*</code> å¯ä»¥æ”¾åˆ°ä¸­é—´è¡¨ç¤ºå‡ºäº†é¦–æœ«è‹¥å¹²å…ƒç´ çš„å…¶ä»–æ‰€æœ‰å…ƒç´ <br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">t = (<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>)</span><br><span class="line">ele1, ele2, *eles, ele3 = t</span><br><span class="line">print(ele1, ele2, eles, ele3)</span><br></pre></td></tr></tbody></table></figure><p></p><p><b>å…ƒç»„å’Œåˆ—è¡¨çš„åŒºåˆ«</b></p><p>è¿™é‡Œçš„åŒºåˆ«ä½“ç°åœ¨ä¸€äº›å†…ç½®çš„å±æ€§æ–¹æ³•ä¸Šã€‚åˆ—è¡¨è¯´æ˜</p><table><thead><tr><th style="text-align:center">å±æ€§æ–¹æ³•</th><th style="text-align:center">è¯´æ˜</th><th style="text-align:center">åˆ—è¡¨</th><th style="text-align:center">å…ƒç»„</th></tr></thead><tbody><tr><td style="text-align:center"><code>s.__getnewargs__()</code></td><td style="text-align:center"><code>pickle</code> ä¸­æ”¯æŒæ›´åŠ ä¼˜åŒ–çš„åºåˆ—åŒ–</td><td style="text-align:center">âœ—</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>s.__add__(s2)</code></td><td style="text-align:center"><code>s + s2</code>ï¼Œæ‹¼æ¥</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>s.__contains__(e)</code></td><td style="text-align:center"><code>s</code> æ˜¯å¦åŒ…å« <code>e</code></td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>s.index(e)</code></td><td style="text-align:center">åœ¨ <code>s</code> ä¸­æ‰¾åˆ°å…ƒç´  <code>e</code> ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>s.count(e)</code></td><td style="text-align:center"><code>e</code> åœ¨ <code>s</code> ä¸­å‡ºç°çš„æ¬¡æ•°</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>s.__getitem__(p)</code></td><td style="text-align:center"><code>s[p]</code>ï¼Œè·å–ä½ç½® <code>p</code> çš„å…ƒç´ </td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>s.__iter__()</code></td><td style="text-align:center">è·å– <code>s</code> çš„è¿­ä»£å™¨</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>s.__len__()</code></td><td style="text-align:center"><code>len(s)</code>ï¼Œå…ƒç´ çš„æ•°é‡</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>s.__mul__(n)</code></td><td style="text-align:center"><code>s * n</code>ï¼Œ<code>n</code> ä¸ª <code>s</code> çš„é‡å¤æ‹¼æ¥</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>s.__rmul__(n)</code></td><td style="text-align:center"><code>n * s</code>ï¼Œåå‘æ‹¼æ¥ *</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ“</td></tr><tr><td style="text-align:center"><code>s.__delitem__(p)</code></td><td style="text-align:center">æŠŠä½äº <code>p</code> çš„å…ƒç´ åˆ é™¤</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ—</td></tr><tr><td style="text-align:center"><code>s.__reversed__()</code></td><td style="text-align:center">è¿”å› <code>s</code> çš„å€’åºè¿­ä»£å™¨</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ—</td></tr><tr><td style="text-align:center"><code>s.__setitem__(p, e)</code></td><td style="text-align:center"><code>s[p] = e</code>ï¼ŒæŠŠå…ƒç´  <code>e</code> æ”¾åœ¨ä½ç½® <code>p</code>ï¼Œæ›¿ä»£å·²ç»åœ¨é‚£ä¸ªä½ç½®çš„å…ƒç´ </td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ—</td></tr><tr><td style="text-align:center"><code>s.__imul__(n)</code></td><td style="text-align:center"><code>s *= n</code>ï¼Œå°±åœ°é‡å¤æ‹¼æ¥</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ—</td></tr><tr><td style="text-align:center"><code>s.__iadd__(s2)</code></td><td style="text-align:center"><code>s += s2</code>ï¼Œå°±åœ°æ‹¼æ¥</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ—</td></tr><tr><td style="text-align:center"><code>s.insert(p, e)</code></td><td style="text-align:center">åœ¨ä½ç½® <code>p</code> ä¹‹å‰æ’å…¥å…ƒç´ <code>e</code></td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ—</td></tr><tr><td style="text-align:center"><code>s.append(e)</code></td><td style="text-align:center">åœ¨å°¾éƒ¨æ·»åŠ ä¸€ä¸ªæ–°å…ƒç´ </td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ—</td></tr><tr><td style="text-align:center"><code>s.clear()</code></td><td style="text-align:center">åˆ é™¤æ‰€æœ‰å…ƒç´ </td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ—</td></tr><tr><td style="text-align:center"><code>s.copy()</code></td><td style="text-align:center">æµ…å¤åˆ¶</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ—</td></tr><tr><td style="text-align:center"><code>s.extend(it)</code></td><td style="text-align:center">æŠŠå¯è¿­ä»£å¯¹è±¡ <code>it</code> è¿½åŠ ç»™ <code>s</code></td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ—</td></tr><tr><td style="text-align:center"><code>s.pop([p])</code></td><td style="text-align:center">åˆ é™¤æœ€åæˆ–è€…æ˜¯ï¼ˆå¯é€‰çš„ï¼‰ä½äº <code>p</code> çš„å…ƒç´ ï¼Œå¹¶è¿”å›å®ƒçš„å€¼</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ—</td></tr><tr><td style="text-align:center"><code>s.remove(e)</code></td><td style="text-align:center">åˆ é™¤ <code>s</code> ä¸­çš„ç¬¬ä¸€æ¬¡å‡ºç°çš„ <code>e</code></td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ—</td></tr><tr><td style="text-align:center"><code>s.reverse()</code></td><td style="text-align:center">å°±åœ°å€’åº</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ—</td></tr><tr><td style="text-align:center"><code>s.sort([key], [reverse])</code></td><td style="text-align:center">å°±åœ°å¯¹ <code>s</code> ä¸­çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œå¯é€‰çš„å‚æ•°æœ‰é”®ï¼ˆ<code>key</code>ï¼‰å’Œæ˜¯å¦å€’åºï¼ˆ<code>reverse</code>ï¼‰</td><td style="text-align:center">âœ“</td><td style="text-align:center">âœ—</td></tr></tbody></table><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;b&gt;åºåˆ—ç±»å‹æ¦‚å¿µ&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;è°ˆèµ·åºåˆ—ï¼Œæˆ‘ä»¬èƒ½è¯´çš„å°±æœ‰å¾ˆå¤šäº†ï¼Œæ¯”å¦‚æˆ‘ä»¬å¾ˆå¸¸ç”¨çš„&lt;code&gt;str&lt;/code&gt; , &lt;code&gt;list&lt;/code&gt; , &lt;code&gt;tuple&lt;/code&gt; ç­‰ï¼ŒPythonç”¨Cè¯­è¨€å®ç°äº†ä¸°å¯Œçš„åºåˆ—ç±»å‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;
      
    
    </summary>
    
    
      <category term="Fluent Python" scheme="https://www.zranbo.com/tags/Fluent-Python/"/>
    
  </entry>
  
  <entry>
    <title>æµç•…çš„Python - Pythonæ•°æ®æ¨¡å‹ (ä¸€)</title>
    <link href="https://www.zranbo.com/item/1bbbb445/"/>
    <id>https://www.zranbo.com/item/1bbbb445/</id>
    <published>2019-05-14T06:03:00.000Z</published>
    <updated>2019-05-17T14:59:19.076Z</updated>
    
    <content type="html"><![CDATA[<p><b>Magic Method (Dunder Method)</b></p><div class="note info"><p>Python é‡Œé¢æœ‰å¾ˆå¤šç‰¹æ®Šæ–¹æ³•ï¼Œæˆ‘ä»¬ç®¡ä»–å«é­”æœ¯æ–¹æ³•(magic method)ã€‚ä¹‹æ‰€ä»¥ç‰¹æ®Šï¼Œæ˜¯å› ä¸ºè¿™äº›æ–¹æ³•ä¸åŒäºä¸€èˆ¬çš„å¯¹è±¡æ–¹æ³•çš„è°ƒç”¨æ–¹å¼ <code>Object.function</code>ï¼Œæ¯”å¦‚å¯¹äºè·å–å­—ç¬¦ä¸²å¯¹è±¡ <code>s = "Hello"</code> çš„é•¿åº¦,ä¸åŒäºå…¶ä»–ä¸€äº›è¯­è¨€çš„ <code>s.length()</code> æˆ–è€…ç±»ä¼¼çš„æ–¹æ³•ï¼ŒPythoné‡‡ç”¨ <code>len(s)</code> è¿™æ ·çš„å½¢å¼ã€‚ </p></div><blockquote><p>é¦–å…ˆæ˜ç¡®ä¸€ç‚¹ï¼Œç‰¹æ®Šæ–¹æ³•çš„å­˜åœ¨æ˜¯ä¸ºäº†è¢« Python è§£é‡Šå™¨è°ƒç”¨çš„ï¼Œä½ è‡ªå·±å¹¶ä¸éœ€è¦è°ƒç”¨å®ƒä»¬ã€‚ä¹Ÿå°±æ˜¯è¯´æ²¡æœ‰ <code>my_object.__len__()</code> è¿™ç§å†™æ³•ï¼Œè€Œåº”è¯¥ä½¿ç”¨ <code>len(my_object</code>)ã€‚åœ¨æ‰§è¡Œ <code>len(my_object)</code> çš„æ—¶å€™ï¼Œå¦‚æœ <code>my_object</code> æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰ç±»çš„å¯¹è±¡ï¼Œé‚£ä¹ˆ Python ä¼šè‡ªå·±å»è°ƒç”¨å…¶ä¸­ç”±ä½ å®ç°çš„ <code>__len__</code> æ–¹æ³•ã€‚</p><footer><strong>â€”â€”Fluent Python</strong></footer></blockquote><p>è€Œ Python é‡Œé¢è¿™æ ·çš„ç‰¹æ®Šæ–¹æ³•è¿˜æœ‰å¾ˆå¤šï¼Œåˆ—ä¸€ä¸ªè¡¨æ ¼è¯´æ˜ä¸€äº›ã€‚</p><table><thead><tr><th style="text-align:center">ç±»åˆ«</th><th style="text-align:left">æ–¹æ³•å</th></tr></thead><tbody><tr><td style="text-align:center">å­—ç¬¦ä¸²/å­—èŠ‚åºåˆ—è¡¨ç¤ºå½¢å¼</td><td style="text-align:left"><code>__repr__</code>ã€<code>__str__</code>ã€<code>__format__</code>ã€<code>__bytes__</code></td></tr><tr><td style="text-align:center">æ•°å€¼è½¬æ¢</td><td style="text-align:left"><code>__abs__</code>ã€<code>__bool__</code>ã€<code>__complex__</code>ã€<code>__int__</code>ã€<code>__float__</code>ã€<code>__hash__</code>ã€<code>__index__</code></td></tr><tr><td style="text-align:center">é›†åˆæ¨¡æ‹Ÿ</td><td style="text-align:left"><code>__len__</code>ã€<code>__getitem__</code>ã€<code>__setitem__</code>ã€<code>__delitem__</code>ã€<code>__contains__</code></td></tr><tr><td style="text-align:center">è¿­ä»£æšä¸¾</td><td style="text-align:left"><code>__iter__</code>ã€<code>__reversed__</code>ã€<code>__next__</code></td></tr><tr><td style="text-align:center">å¯è°ƒç”¨æ¨¡æ‹Ÿ</td><td style="text-align:left"><code>__call__</code></td></tr><tr><td style="text-align:center">ä¸Šä¸‹æ–‡ç®¡ç†</td><td style="text-align:left"><code>__enter__</code>ã€<code>__exit__</code></td></tr><tr><td style="text-align:center">å®ä¾‹åˆ›å»ºå’Œé”€æ¯</td><td style="text-align:left"><code>__new__</code>ã€<code>__init__</code>ã€<code>__del__</code></td></tr><tr><td style="text-align:center">å±æ€§ç®¡ç†</td><td style="text-align:left"><code>__getattr__</code>ã€<code>__getattribute__</code>ã€<code>__setattr__</code>ã€<code>__delattr__</code>ã€<code>__dir__</code></td></tr><tr><td style="text-align:center">å±æ€§æè¿°ç¬¦</td><td style="text-align:left"><code>__get__</code>ã€<code>__set__</code>ã€<code>__delete__</code></td></tr><tr><td style="text-align:center">ç±»ç›¸å…³æœåŠ¡</td><td style="text-align:left"><code>__prepare__</code>ã€<code>__instancecheck__</code>ã€<code>__subclasscheck__</code></td></tr></tbody></table><p>ä¸Šé¢è¡¨æ ¼é‡Œé¢åˆ—ä¸¾çš„å¹¶ä¸æ˜¯æ‰€æœ‰çš„ï¼Œè¿˜æœ‰å¾ˆå¤šæ¯”å¦‚ä¸è¿ç®—ç›¸å…³çš„ç‰¹æ®Šæ–¹æ³• <code>__add__</code> ã€ <code>__abs__</code> ç­‰éƒ½æ²¡æœ‰åˆ—ä¸¾ã€‚</p><p><b>ä¸€äº›å¸¸ç”¨æ“ä½œå¯¹åº”çš„é­”æœ¯æ–¹æ³•</b></p><ul><li><p><code>for</code> è¿­ä»£æ“ä½œ</p><p>å¦‚æœä¸€ä¸ªå¯¹è±¡å¯ä»¥é€šè¿‡ <code>for</code> å¾ªç¯ï¼Œéœ€è¦å®ç° <code>__iter__()</code> å’Œ <code>__next__()</code> æ–¹æ³•ï¼Œå¹¶ä¸”éœ€è¦åœ¨ <code>__next__()</code> ä¸­é€šè¿‡æŠ›å‡º <code>StopIteration</code> å¼‚å¸¸æ¥æ§åˆ¶ <code>for</code> çš„ç»ˆæ­¢è¡Œä¸º:</p></li></ul><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">tObject</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, init=<span class="number">0</span>, stop=<span class="number">10</span>)</span>:</span></span><br><span class="line">        self.init = init</span><br><span class="line">        self.data = init</span><br><span class="line">        self.stop = stop</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__next__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.data >= self.stop:</span><br><span class="line">            <span class="keyword">raise</span> StopIteration</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.data += <span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> self.data</span><br><span class="line">            </span><br><span class="line">obj = tObject()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> obj:</span><br><span class="line">    print(i)</span><br></pre></td></tr></tbody></table></figure><ul><li><p><code>in</code> æ“ä½œ</p><p>ç”¨ <code>in</code> åˆ¤æ–­å¯¹è±¡å…³ç³»çš„æ—¶å€™ï¼Œéœ€è¦å®ç° <code>__contains__()</code>ï¼Œä½†æ˜¯å¦‚æœæ²¡æœ‰å®ç° <code>__contains__()</code> ï¼Œä¼šè¿›è¡Œä¸€æ¬¡è¿­ä»£æ“ä½œï¼š</p></li></ul><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">tObject</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, init=<span class="number">0</span>, stop=<span class="number">10</span>)</span>:</span></span><br><span class="line">        self.init = init</span><br><span class="line">        self.data = init</span><br><span class="line">        self.stop = stop</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__next__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.data >= self.stop:</span><br><span class="line">            <span class="keyword">raise</span> StopIteration</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.data += <span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> self.data</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__contains__</span><span class="params">(self, key)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.init < key < self.stop:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            </span><br><span class="line">obj = tObject()</span><br><span class="line"></span><br><span class="line">print(<span class="number">5</span> <span class="keyword">in</span> obj)</span><br></pre></td></tr></tbody></table></figure><p>ä½†æ˜¯å¦‚æœæ²¡æœ‰å®ç° <code>__contains__()</code> è¿™é‡Œè¿™é‡Œå°±ä¼šé¦–å…ˆè¿›è¡Œä¸€æ¬¡è¿­ä»£æ“ä½œï¼Œç„¶åå»åˆ¤æ–­ã€‚</p><ul><li><p><code>print()</code>æˆ–<code>str()</code></p><p><code>__repr__()</code>çš„ç›®çš„åº”è¯¥æ˜¯èƒ½å‡†ç¡®è¡¨è¾¾å‡ºå¯¹è±¡ã€‚</p><p><code>__str__()</code>çš„ç›®çš„æ˜¯èƒ½å‹å¥½çš„å¯è¯»çš„è¡¨è¾¾å¯¹è±¡ã€‚</p></li></ul><ul><li><p><code>[]</code> å–å€¼&èµ‹å€¼&æ“ä½œ</p><p>åˆ†åˆ«æ˜¯ <code>__getitem__()</code> å’Œ <code>__setitem__()</code></p></li></ul><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">tObject</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.data = dict()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span><span class="params">(self, key)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.data.get(key, <span class="string">'N/A'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__setitem__</span><span class="params">(self, key, val)</span>:</span></span><br><span class="line">        self.data[key] = val</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">obj = tObject()</span><br><span class="line">obj[<span class="string">'1'</span>] = <span class="string">'a'</span></span><br><span class="line">print(obj[<span class="string">'1'</span>])</span><br></pre></td></tr></tbody></table></figure><p><code>__getitem__()</code> æ–¹æ³•ç”¨äºè¿”å›å‚æ•° <code>key</code> æ‰€å¯¹åº”çš„å€¼ï¼Œè¿™ä¸ª <code>key</code> å¯ä»¥æ˜¯ç´¢å¼•ï¼Œå…³é”®å­—æˆ–åˆ‡ç‰‡å¯¹è±¡ï¼Œå¹¶ä¸”æ”¯æŒè´Ÿæ•°ç´¢å¼•ï¼›å¦‚æœ <code>key</code> ä¸æ˜¯ä»¥ä¸Šä¸¤ç§ç±»å‹ï¼Œå°±ä¼šæŠ›å‡º <code>TypeError</code> ï¼›å¦‚æœç´¢å¼•è¶Šç•Œï¼Œä¼šæŠ› <code>IndexError</code> ï¼›å¦‚æœå®šä¹‰çš„æ˜¯æ˜ å°„ç±»å‹ï¼Œå½“ <code>key</code> å‚æ•°ä¸æ˜¯å…¶å¯¹è±¡çš„é”®å€¼æ—¶ï¼Œåˆ™ä¼šæŠ›å‡º <code>KeyError</code></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;b&gt;Magic Method (Dunder Method)&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;note info&quot;&gt;&lt;p&gt;Python é‡Œé¢æœ‰å¾ˆå¤šç‰¹æ®Šæ–¹æ³•ï¼Œæˆ‘ä»¬ç®¡ä»–å«é­”æœ¯æ–¹æ³•(magic method)ã€‚ä¹‹æ‰€ä»¥ç‰¹æ®Šï¼Œæ˜¯å› ä¸ºè¿™äº›æ–¹æ³•ä¸åŒäºä¸€èˆ¬çš„å¯¹è±¡æ–¹æ³•çš„è°ƒç”¨æ–¹å¼ &lt;
      
    
    </summary>
    
    
      <category term="Fluent Python" scheme="https://www.zranbo.com/tags/Fluent-Python/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://www.zranbo.com/item/4a17b156/"/>
    <id>https://www.zranbo.com/item/4a17b156/</id>
    <published>2019-05-05T09:52:00.000Z</published>
    <updated>2019-05-17T14:48:52.293Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
      <category term="Void" scheme="https://www.zranbo.com/tags/Void/"/>
    
  </entry>
  
</feed>
